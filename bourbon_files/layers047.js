(function(e,c,f,i){var h,a;var g={};g.qwery=function(){var b=function(){var n=document,N=n.documentElement,aa="getElementsByClassName",C="getElementsByTagName",m="querySelectorAll",O="useNativeQSA",y="tagName",X="nodeType",aj,W=/#([\w\-]+)/,x=/\.[\w\-]+/g,aq=/^#([\w\-]+)$/,am=/^\.([\w\-]+)$/,B=/^([\w\-]+)$/,ae=/^([\w]+)?\.([\w\-]+)$/,S=/(^|,)\s*[>~+]/,Y=/^\s+|\s*([,\s\+\~>]|$)\s*/g,ar=/[\s\>\+\~]/,J=/(?![\s\w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^'"]*\]|[\s\w\+\-]*\))/,ao=/([.*+?\^=!:${}()|\[\]\/\\])/g,j=/^(\*|[a-z0-9]+)?(?:([\.\#]+[\w\-\.#]+)?)/,z=/\[([\w\-]+)(?:([\|\^\$\*\~]?\=)['"]?([ \w\-\/\?\&\=\:\.\(\)\!,@#%<>\{\}\$\*\^]+)["']?)?\]/,E=/:([\w\-]+)(\(['"]?([^()]+)['"]?\))?/,D=new RegExp(aq.source+"|"+B.source+"|"+am.source),u=new RegExp("("+ar.source+")"+J.source,"g"),an=new RegExp(ar.source+J.source),I=new RegExp(j.source+"("+z.source+")?("+E.source+")?");var T={" ":function(q){return q&&q!==N&&q.parentNode;},">":function(q,at){return q&&q.parentNode==at.parentNode&&q.parentNode;},"~":function(q){return q&&q.previousSibling;},"+":function(q,au,av,at){if(!q){return false;}return(av=ab(q))&&(at=ab(au))&&av==at&&av;}};function w(){this.c={};}w.prototype={g:function(q){return this.c[q]||i;},s:function(at,q,au){q=au?new RegExp(q):q;return this.c[at]=q;}};var ag=new w(),F=new w(),L=new w(),ah=new w();function U(q){return ag.g(q)||ag.s(q,"(^|\\s+)"+q+"(\\s+|$)",1);}function ak(at,av){var au=0,q=at.length;for(;au<q;au++){av(at[au]);}}function H(at){for(var av=[],au=0,q=at.length;au<q;++au){M(at[au])?av=av.concat(at[au]):av[av.length]=at[au];}return av;}function l(at){var au=0,q=at.length,av=[];for(;au<q;au++){av[au]=at[au];}return av;}function ab(q){while(q=q.previousSibling){if(q[X]==1){break;}}return q;}function af(q){return q.match(I);}function p(aD,aH,av,aA,au,aB,aF,aG,aE,aC,q){var az,aw,ay,at,ax;if(this[X]!==1){return false;}if(aH&&aH!=="*"&&this[y]&&this[y].toLowerCase()!==aH){return false;}if(av&&(aw=av.match(W))&&aw[1]!==this.id){return false;}if(av&&(ax=av.match(x))){for(az=ax.length;az--;){if(!U(ax[az].slice(1)).test(this.className)){return false;}}}if(aE&&ac.pseudos[aE]&&!ac.pseudos[aE](this,q)){return false;}if(aA&&!aF){at=this.attributes;for(ay in at){if(Object.prototype.hasOwnProperty.call(at,ay)&&(at[ay].name||ay)==au){return this;}}}if(aA&&!R(aB,ai(this,au)||"",aF)){return false;}return this;}function Z(q){return F.g(q)||F.s(q,q.replace(ao,"\\$1"));}function R(q,au,at){switch(q){case"=":return au==at;case"^=":return au.match(L.g("^="+at)||L.s("^="+at,"^"+Z(at),1));case"$=":return au.match(L.g("$="+at)||L.s("$="+at,Z(at)+"$",1));case"*=":return au.match(L.g(at)||L.s(at,Z(at),1));case"~=":return au.match(L.g("~="+at)||L.s("~="+at,"(?:^|\\s+)"+Z(at)+"(?:\\s+|$)",1));case"|=":return au.match(L.g("|="+at)||L.s("|="+at,"^"+Z(at)+"(-|$)",1));}return 0;}function ad(ax,aA){var q=[],aB=[],az,aw,au,av,aG,ay,at,aF,aE=aA,aD=ah.g(ax)||ah.s(ax,ax.split(an)),aC=ax.match(u);if(!aD.length){return q;}av=(aD=aD.slice(0)).pop();if(aD.length&&(au=aD[aD.length-1].match(aq))){aE=A(aA,au[1]);}if(!aE){return q;}at=af(av);ay=aE!==aA&&aE[X]!==9&&aC&&/^[+~]$/.test(aC[aC.length-1])?function(aH){while(aE=aE.nextSibling){aE[X]==1&&(at[1]?at[1]==aE[y].toLowerCase():1)&&(aH[aH.length]=aE);}return aH;}([]):aE[C](at[1]||"*");for(az=0,aw=ay.length;az<aw;az++){if(aF=p.apply(ay[az],at)){q[q.length]=aF;}}if(!aD.length){return q;}ak(q,function(aH){if(Q(aH,aD,aC)){aB[aB.length]=aH;}});return aB;}function K(av,q,at){if(t(q)){return av==q;}if(M(q)){return!!~H(q).indexOf(av);}var au=q.split(","),ax,aw;while(q=au.pop()){ax=ah.g(q)||ah.s(q,q.split(an));aw=q.match(u);ax=ax.slice(0);if(p.apply(av,af(ax.pop()))&&(!ax.length||Q(av,ax,aw,at))){return true;}}return false;}function Q(au,ax,aw,q){var av;function at(aA,ay,az){while(az=T[aw[ay]](az,aA)){if(t(az)&&p.apply(az,af(ax[ay]))){if(ay){if(av=at(az,ay-1,az)){return av;}}else{return az;}}}}return(av=at(au,ax.length-1,au))&&(!q||ap(av,q));}function t(at,q){return at&&typeof at==="object"&&(q=at[X])&&(q==1||q==9);}function al(at){var q=[],av,au;o:for(av=0;av<at.length;++av){for(au=0;au<q.length;++au){if(q[au]==at[av]){continue o;}}q[q.length]=at[av];}return q;}function M(q){return typeof q==="object"&&isFinite(q.length);}function d(q){if(!q){return n;}if(typeof q=="string"){return ac(q)[0];}if(!q[X]&&M(q)){return q[0];}return q;}function A(q,au,at){return q[X]===9?q.getElementById(au):q.ownerDocument&&((at=q.ownerDocument.getElementById(au))&&ap(at,q)&&at||!ap(q,q.ownerDocument)&&aj("[id=\""+au+"\"]",q)[0]);}function ac(at,aw){var q,av,au=d(aw);if(!au||!at){return[];}if(at===window||t(at)){return!aw||at!==window&&t(au)&&ap(at,au)?[at]:[];}if(at&&M(at)){return H(at);}if(q=at.match(D)){if(q[1]){return(av=A(au,q[1]))?[av]:[];}if(q[2]){return l(au[C](q[2]));}if(P&&q[3]){return l(au[aa](q[3]));}}return aj(at,au);}function k(q,at){return function(au){var av,aw;if(S.test(au)){if(q[X]!==9){if(!(aw=av=q.getAttribute("id"))){q.setAttribute("id",aw="__qwerymeupscotty");}au="[id=\""+aw+"\"]"+au;at(q.parentNode||q,au,true);av||q.removeAttribute("id");}return;}au.length&&at(q,au,false);};}var ap="compareDocumentPosition"in N?function(at,q){return(q.compareDocumentPosition(at)&16)==16;}:"contains"in N?function(at,q){q=q[X]===9||q==window?N:q;return q!==at&&q.contains(at);}:function(at,q){while(at=at.parentNode){if(at===q){return 1;}}return 0;},ai=function(){var q=n.createElement("p");return(q.innerHTML="<a href=\"#x\">x</a>")&&q.firstChild.getAttribute("href")!="#x"?function(au,at){return at==="class"?au.className:at==="href"||at==="src"?au.getAttribute(at,2):au.getAttribute(at);}:function(au,at){return au.getAttribute(at);};}(),P=!!n[aa],r=n.querySelector&&n[m],V=function(at,au){var q=[],aw,ax;try{if(au[X]===9||!S.test(at)){return l(au[m](at));}ak(aw=at.split(","),k(au,function(ay,az){ax=ay[m](az);if(ax.length==1){q[q.length]=ax.item(0);}else{if(ax.length){q=q.concat(l(ax));}}}));return aw.length>1&&q.length>1?al(q):q;}catch(av){}return v(at,au);},v=function(av,ay){var aA=[],ax,at,aw,au,q,az;av=av.replace(Y,"$1");if(at=av.match(ae)){q=U(at[2]);ax=ay[C](at[1]||"*");for(aw=0,au=ax.length;aw<au;aw++){if(q.test(ax[aw].className)){aA[aA.length]=ax[aw];}}return aA;}ak(az=av.split(","),k(ay,function(aB,aC,aD){q=ad(aC,aB);for(aw=0,au=q.length;aw<au;aw++){if(aB[X]===9||aD||ap(q[aw],ay)){aA[aA.length]=q[aw];}}}));return az.length>1&&aA.length>1?al(aA):aA;},G=function(q){if(typeof q[O]!=="undefined"){aj=!q[O]?v:r?V:v;}};G({useNativeQSA:true});ac.configure=G;ac.uniq=al;ac.is=K;ac.pseudos={};return ac;}();return b;}();g.rAF=function(){var j,b,k,p,q,d,t,m,r,n,l;b="native";k=Date.now||function(){return new Date().getTime();};q=window.requestAnimationFrame;n=["webkit","moz","o","ms"];for(m=0,r=n.length;m<r;m++){t=n[m];if(!(q!=null)){q=window[t+"RequestAnimationFrame"];}}if(!(q!=null)){b="timer";j=0;p=d=null;q=function(x){var u,v,w;if(p!=null){p.push(x);return;}w=k();v=Math.max(0,16.66-(w-j));p=[x];j=w+v;u=function(){var y,B,A,z;B=p;p=null;for(A=0,z=B.length;A<z;A++){y=B[A];y(j);}};d=setTimeout(u,v);};}q(function(v){var u;if(((u=window.performance)!=null?u.now:void 0)!=null&&v<1000000000000){q.now=function(){return window.performance.now();};q.method="native-highres";}else{q.now=k;}});q.now=((l=window.performance)!=null?l.now:void 0)!=null?function(){return window.performance.now();}:k;q.method=b;return q;}();g.utils=function(b,l){var k={KEYCODES:{"13":"enter","27":"esc"},cloneObject:function(n){var p={};for(var m in n){if(k.isPlainObject(n[m])&&n[m]!==i){p[m]=k.isElement(n[m])?n[m]:k.cloneObject(n[m]);}else{p[m]=n[m];}}return p;},isEmptyObject:function(m){var n;for(n in m){if(m.hasOwnProperty(n)){return false;}}return true;},extend:f.extend,isPlainObject:function(m){if(!m){return false;}return Object.prototype.toString.call(m)==="[object Object]";},isArray:function(m){if(!m){return false;}if("isArray"in Array){return Array.isArray(m);}else{return Object.prototype.toString.call(m)==="[object Array]";}},isFunction:function(m){if(!m){return false;}return Object.prototype.toString.call(m)==="[object Function]";},isString:function(m){return typeof m==="string"||Object.prototype.toString.call(m)==="[object String]";},isNumber:function(m){return typeof m==="number"||Object.prototype.toString.call(m)==="[object Number]";},isNumeric:function(m){return!isNaN(m);},isBoolean:function(m){return m===true||m===false||Object.prototype.toString.call(m)=="[object Boolean]";},isUndefined:function(m){return m===i;},isNull:function(m){return m===null;},isNaN:function(m){return k.isNumber(m)&&m!=+m;},isElement:function(m){return!k.isNull(m)&&!k.isUndefined(m)&&m.nodeType===1;},has:function(n,m){if(!k.isString(n)){return false;}return Boolean(n.indexOf(m)!==-1);},each:function(p,q){var n,m;if(k.isArray(p)){n=-1;m=p.length;while(++n<m){if(q(n,p[n])===false){break;}}}else{if(k.isPlainObject(p)){for(n in p){if(p.hasOwnProperty(n)){if(q(n,p[n])===false){break;}}}}}},match:function(x,u,v){var y=[],p,n,t,w,r=[],q=JSON.stringify(x);k.each(x,function(m,z){y.push(m);});p=v+"//"+y.join("/");n=k.match[p]||(k.match[p]={});if(!n.matches){t=n.matches||(n.matches=[]);w=n.values||(n.values=u);n.keys=y;k.each(u,function(z,A){var m={};k.each(y,function(C,B){m[B]=A[B];});t.push(m);});}k.each(n.matches,function(z,m){if(q===JSON.stringify(m)){r.push(n.values[z]);}});return r;},filter:function(n,v,q){if(n.filter){return n.filter(v);}var r=[],u,m;for(var t=0,p=n.length;t<p;t++){u=n[t];m=v.call(q||u,u,t,n);if(m){r.push(u);}}return r;},toObject:function(m){var n={};k.each(m,function(q,p){if(p!==i){n[p]=true;}});return n;},toArray:function(n){var m=[];k.each(n,function(q,p){m.push(p);});return m;},keys:function(n){var p,m=0;if(Object.keys){return Object.keys(n).length;}else{k.each(n,function(){++m;});return m;}},queue:function(q,p,n){var r=this._q=this._q||{},m=this._q[q]=this._q[q]||[];m.push({item:p,context:n||this});return m;},dequeue:function(m){return this._q&&this._q[m]&&this._q[m].length&&this._q[m].shift();},bindEvents:function(r,u){var w=this,p=k.isElement(w.element)?w.element:false,v,q=0,m,n,t;k.each(r,function(y,x){q=y.lastIndexOf(" ");t=f.bind(x,w);if(q===-1){if(k.has(y,"addthis")){if(u!=="remove"){_ate.ed.addEventListener(y,t);}else{_ate.ed.removeEventListener(y,t);}}else{if(p){k.listenTo({elem:p,ev:y,callback:t,type:u,originalEv:y});}}}else{m=y.charAt(0)==="!"?y.substring(1,q):y.substring(0,q);n=y.substring(q+1);k.listenTo({layer:y.charAt(0)==="!"?false:p,elem:m,ev:n,callback:t,type:u,originalEv:y});}});},listenTo:function(r){var u,q=false,p=r.elem,n=r.layer,t=function(){var y=[];if(p==="window"||p==="w"){y.push(e);}else{if(p==="document"||p==="d"){y.push(h);}else{if(k.isString(p)){y=b(p);q=p;}else{y.push(p);}}}return y;}(),w=r.ev,x=r.callback,m=r.type!=="remove"?"addEventHandler":"removeEventHandler",v=r.originalEv;if((t||n)&&w&&x){if(n){k[m]({container:n,elem:t.length>0?t[0]:false,selector:q,ev:w,cb:x,originalEv:v});}else{if(k.isArray(t)){u=t.length;k.each(t,function(y){k[m]({elem:t[y],selector:q,ev:w,cb:x,originalEv:v});});}else{k[m]({elem:t,selector:q,ev:w,cb:x,originalEv:v});}}}},addEventHandler:function(r){var w=this,n=r.container,t=r.elem,q=r.selector,v=r.ev,x=function(z){r.cb(z||e.event,z.target||z.srcElement);},u=r.originalEv,m=function(D){D=D||e.event;var C=D.target||D.srcElement,A=false,E=false,z,B;if(q){z=q.split(" ");B=z.length>1?z.pop():q;if(B.indexOf(".")===0){B=B.replace(".","");A=k.hasClass(B,C)||k.hasClass(B,C.parentNode);}else{if(B.indexOf("#")===0){B=B.replace("#","");E=C.id===B||C.parentNode&&C.parentNode.id===B;}}}if(A||E){x(D,C);}},y=n?m:x,p=n||t;if(v==="mouseenter"||v==="mouseleave"){if(!k.isMouseEventSupported(v)){if(v==="mouseenter"){v="mouseover";}else{v="mouseout";}y=k.fixMouseEvent(y);}}if(!p.__callbacks){p.__callbacks={};}p.__callbacks[u]=y;if(p.addEventListener){p.addEventListener(v,y,false);}else{if(p.attachEvent){p.attachEvent("on"+v,y);}else{p["on"+v]=y;}}},removeEventHandler:function(t){var q=this,m=t.container,n=t.elem,p=t.ev,v=t.cb,u,r=t.originalEv;u=m||n;u.__callbacks=u.__callbacks||{};v=u.__callbacks[r];this.removeEvent({elem:u,ev:p,cb:v});},removeEvent:function(q){var p=q.elem,n=q.ev,m=q.cb;if(p.removeEventListener){p.removeEventListener(n,m,false);}else{if(p.detachEvent){p.detachEvent("on"+n,m);}else{p["on"+n]=null;}}},isMouseEventSupported:function d(m){if(d.tested===true){return d.isSupported;}var p=h.createElement("div"),n;m="on"+m;n=m in p;if(!n){k.attr(p,m,"return;");n=k.isFunction(p[m]);}d.isSupported=n;d.tested=true;p=null;return n;},fixMouseEvent:function(m){return function(n){try{var q=n.relatedTarget;if(!q||q!==this&&!(this.compareDocumentPosition(q)&Node.DOCUMENT_POSITION_CONTAINED_BY)){m.call(this,n);}}catch(p){}};},preventDefaultEvent:function(m){if(m.preventDefault){m.preventDefault();}else{m.returnValue=false;}},once:function(p){var m=false,n;return function(){if(m){return n;}m=true;n=p.apply(this,arguments);p=null;return n;};},debounce:function(p,t){var r,m,n,q;return function(){n=this;m=[].slice.call(arguments,0);q=new Date();var u=function(){var v=new Date()-q;if(v<t){r=setTimeout(u,t-v);}else{r=null;p.apply(n,m);}};if(!r){r=setTimeout(u,t);}};},triggerGesture:function(q,p,r,n){var m=document.createEvent("GestureEvent");m.initGestureEvent(p,true,true,e,2,0,0,0,0,false,false,false,false,q,r||1.5,n||0);q.dispatchEvent(m);},canScroll:function(){var n=a.offsetHeight,p=this.pageHeight(),m=p/n<0.3;return m;},scrollPercentage:function(){var m=h.body.offsetHeight,n=k.scrollTop();return n/m;},scrollTop:function(m){m=m||h.documentElement||a;return m.scrollTop||a.scrollTop;},pageWidth:function(){return window.innerWidth||document.documentElement.clientWidth;},pageHeight:function(){return window.innerHeight||document.documentElement.clientHeight;},elementInViewport:function(n){if(k.isString(n)){n=b(n)[0];if(!k.isElement(n)){return false;}}var u=n.offsetTop,p=n.offsetLeft,m=n.offsetWidth,w=n.offsetHeight,r=e.pageYOffset?e.pageYOffset:h.documentElement.scrollTop,t=e.pageXOffset?e.pageXOffset:h.documentElement.scrollLeft,q=this.pageHeight(),v=this.pageWidth();while(n.offsetParent){n=n.offsetParent;u+=n.offsetTop;p+=n.offsetLeft;}return u<r+q&&p<t+v&&u+w>r&&p+m>t;},trim:function(m){return m.replace(/^\s+|\s+$/g,"");},desktop:function(){return!k.mobile();},browser:function(m){switch(m.toLowerCase()){case"firefox":return _ate.bro.ffx;case"internet explorer":return _ate.bro.msi;case"internetexplorer":return _ate.bro.msi;case"explorer":return _ate.bro.msi;case"ie":return _ate.bro.msi;case"safari":return _ate.bro.saf;case"chrome":return _ate.bro.chr;case"opera":return _ate.bro.opr;default:return false;}},mobile:function(){return _ate.bro.mob;},tablet:function(){var m=k.mobile(),q=m&&window.screen&&window.screen.availWidth?window.screen.availWidth:0,r=m&&window.screen&&window.screen.availHeight?window.screen.availHeight:0,n=m?q>r?r:q:false,p=n?n>800:false;return p;},phone:function(){var m=k.mobile(),q=m&&window.screen&&window.screen.availWidth?window.screen.availWidth:0,r=m&&window.screen&&window.screen.availHeight?window.screen.availHeight:0,n=m?q>r?r:q:false,p=n?n<=800:false;return p;},getCurrentDevice:function(u){var m=k.pageWidth(),n=u.options,t=(n||{}).responsive||{},q=(k.isString(t.minWidth)?!k.has(t.minWidth,"px")?+t.minWidth:+t.minWidth.replace("px",""):t.minWidth)||0,r=k.isString(t.maxWidth)?!k.has(t.maxWidth,"px")?+t.maxWidth:+t.maxWidth.replace("px",""):t.maxWidth,p="desktop";if(t===false||k.isUndefined(q)||k.isUndefined(r)||k.isIEQuirksMode()){p="desktop";}else{if(m>=q&&m<=r){p="mobile";}else{p="desktop";}}return p;},publicApi:function(m){var p,n={};k.each(m,function(r,q){if(r.charAt(0)!=="_"){n[r]=m[r];}});return n;},removeChildren:function(m){if(!m){return;}while(m.hasChildNodes()){m.removeChild(m.lastChild);}},supports:{csstransitions:function(){var n=a.style,p="transition",m=["Moz","Webkit","Khtml","O","ms"];if(k.supports.csstransitions.supports!==i){return k.supports.csstransitions.supports;}if(k.isString(n[p])){k.supports.csstransitions.supports=true;return true;}p=p.charAt(0).toUpperCase()+p.substr(1);k.each(m,function(q,r){if(k.isString(n[r+p])){k.supports.csstransitions.supports=true;return true;}});k.supports.csstransitions.supports=false;return false;},requestAnimationFrame:function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame;}},addClass:function(m,n){if(!k.isElement(n)||!k.isString(m)){return;}if(!this.hasClass(m,n)){if(n.classList&&k.isString(m)&&m.length){n.classList.add(m);}else{if(n.className){n.className+=" "+m;}else{n.className=m;}}}},removeClass:function(m,n){if(!n||!n.className||!k.isElement(n)||!k.isString(m)){return;}var p=" "+n.className.replace(/[\t\r\n]/g," ")+" ";if(k.hasClass(m,n)){if(n.classList&&k.isString(m)&&m.length){n.classList.remove(m);}else{while(k.has(p," "+m+" ")){p=p.replace(" "+m+" "," ");}n.className=p.replace(/^\s+|\s+$/g,"");}}},hasClass:function(m,n){if(!k.isElement(n)||!k.isString(m)){return false;}if(n.classList&&k.isString(m)&&m.length){return n.classList.contains(m);}else{return n?new RegExp(" "+m+" ").test(" "+n.className+" "):false;}},hasjQuery:function(){return!!e.jQuery;},hasjQueryUI:function(){return k.hasjQuery()&&e.jQuery.ui;},isIEQuirksMode:function(){return _ate.bro.msi&&h.compatMode.toLowerCase()==="backcompat";},isVisible:function(m,n){if(!k.isElement(m)){return false;}return k.getCSSAttr(m,"display")!=="none"&&k.getCSSAttr(m,"visibility")!=="hidden"&&+k.getCSSAttr(m,"opacity",1)!==0&&!k.has(k.getCSSAttr(m,"filter","alpha(opacity=0)"));},getCSSAttr:function(q,m,n){if(!k.isElement(q)){return"";}var p=q.currentStyle||e.getComputedStyle(q,null)||{},r=function(){if(e.getComputedStyle){return p.getPropertyValue(m);}else{if(q.currentStyle){return p[m];}}}();return k.isUndefined(r)?n:r;},setCSSAttr:function(n,m,p){if(!k.isElement(n)){return;}if(k.isString(m)&&k.isString(p)){n.style[m]=p;}else{if(k.isPlainObject(m)){k.each(m,function(q,r){n.style[q]=r;});}}},hasAttr:function(n,m){if(!k.isElement(n)||k.isUndefined(m)){return;}if(!k.isUndefined(n.hasAttribute)){return n.hasAttribute(m);}else{return!k.isUndefined(n.attributes[m]);}},attr:function(p,m,n){if(!k.isElement(p)||k.isUndefined(m)){return;}if(k.isUndefined(n)){if(k.hasAttr(p,m)){return p.getAttribute(m);}}else{p.setAttribute(m,n);}},removeAttr:function(n,m){if(!k.isElement(n)||k.isUndefined(m)){return;}n.removeAttribute(m);},warn:function(m){if(console.warn){console.warn(m);}},randomize:function(m){var n=m.length,p;k.each(m,function(q,r){p=Math.floor(Math.random()*n);m[q]=m.splice(p,1,m[q])[0];});},fireCustomEvent:function(m,q,p,n){_ate.ed.fire(m,q,p,n);},safeActiveElement:function(){try{return h.activeElement;}catch(m){}},specialEvents:{blur:function(m){if(m===k.safeActiveElement()&&m.blur){m.blur();return false;}}},fireDOMEvent:function(n,p){var m;if(h.createEvent){m=h.createEvent("HTMLEvents");m.initEvent(p,true,true);return!n.dispatchEvent(m);}else{m=h.createEventObject();return n.fireEvent("on"+p,m);}},trigger:function(m,q,p,n){if(!k.isString(m)){return;}if(k.has(m,"addthis")){k.fireCustomEvent(m,q,p,n);}else{if(k.isElement(q)){k.fireDOMEvent(q,m);}}},objectToStyle:function(n){var m="";k.each(n,function(p,q){m+=p+": "+q+";";});return m;},serviceTemplate:function(q,m){var p=k.getTopService(m),n;if(p){n=k.getServiceName(p);if(k.isString(q)){q=q.replace(/\{\{service\}\}/,n);}}return q;},getServiceName:function(m){return m.substring(0,1).toUpperCase()+m.substring(1);},getTopService:function(m){var p=c.user.services(),n={google_plus:"google_plusone_share"};if(k.isUndefined(m)||m==="preferred"){if(p.length>0){m=p[0];}else{m={name:"facebook"};}return m.name;}else{if(m in n){return n[m];}else{return m;}}},openWindow:function(q){var n=q.url||"",r=q.new_window||true,m=q.focus||true,p;if(!n.length){return;}if(r){p=window.open(n,"_blank");}else{p=window.open(n);}if(m){p.focus();}},requestTimeout:function(q,p,n){if(!k.supports.requestAnimationFrame){return window.setTimeout(q,p);}var t=new Date().getTime(),r={};function m(){var u=new Date().getTime(),v=u-t;if(v>=p){if(!k.isUndefined(n)){q.call(q,n);}else{q.call(q);}}else{r.value=l(m);}}r.value=l(m);return r;},clearRequestTimeout:function(m){window.cancelAnimationFrame?window.cancelAnimationFrame(m.value):window.webkitCancelAnimationFrame?window.webkitCancelAnimationFrame(m.value):window.webkitCancelRequestAnimationFrame?window.webkitCancelRequestAnimationFrame(m.value):window.mozCancelRequestAnimationFrame?window.mozCancelRequestAnimationFrame(m.value):window.oCancelRequestAnimationFrame?window.oCancelRequestAnimationFrame(m.value):window.msCancelRequestAnimationFrame?window.msCancelRequestAnimationFrame(m.value):clearTimeout(m);},gradients:{cache:{},checkString:function(n){var m={black:"#000000",blue:"#0000ff",gray:"#808080",grey:"#808080",green:"#008000",orange:"#ffa500",purple:"#800080",red:"#ff0000",white:"#ffffff",yellow:"#ffff00"};n=n in m?m[n].substring(1):false;return n;},hex2num:function(m){if(m.length!==2){throw"err: use with 2-digit 16 bit numbers";}return parseInt(m,16);},num2Hex:function(m){var n=Math.floor(m).toString(16);if(n.length===1){n="0"+n;}return n;},mag:function(m){m=m||k.gradients.normalizeColor();return k.gradients.hex2num(m.substring(0,2))+k.gradients.hex2num(m.substring(2,4))+k.gradients.hex2num(m.substring(4,6));},normalizeColor:function(q){var p=k.gradients.checkString(q);q=p?p:q.replace("#","");if(!q||!k.gradients.isValid(q)){q="000000";}else{if(q.length===3){var n=k.gradients.color.substring(0,1),m=k.gradients.color.substring(1,2),r=k.gradients.color.substring(2,3);q=""+n+n+m+m+r+r;}}return q;},isValid:function(m){m=m.toLowerCase();if(m.substring(0,1)==="#"){m=m.substring(1);}if(/(^[0-9,a-f]{3}$)|(^[0-9,a-f]{6}$)/.test(m)){return true;}return k.gradients.checkString(m);},index:function(m){return m/255;},scaleUp:function(m){m=m>1?1:m;return m*255;},shadeOne:function(n,m){return k.gradients.num2Hex(k.gradients.scaleUp(k.gradients.index(k.gradients.hex2num(n))*m));},shade:function(n,m){m=m||k.gradients.normalizeColor();if(!n){n=k.gradients.distance;}if(!(""+m in k.gradients.cache)){k.gradients.cache[""+m]={};}if(!(""+n in k.gradients.cache[""+m])){k.gradients.cache[""+m][n]=""+k.gradients.shadeOne(m.substring(0,2),n)+k.gradients.shadeOne(m.substring(2,4),n)+k.gradients.shadeOne(m.substring(4,6),n);}return k.gradients.cache[m][n];},distance:0.2,cssString:function(m,u){if(_ate.bro.ie6||_ate.bro.ie7){return"";}m=k.gradients.normalizeColor(m);u=u||k.gradients.distance;if(k.gradients.mag(m)>700||k.gradients.mag(m)<100){u=0;}var t=k.gradients.shade(1-u,m),r=k.gradients.shade(1+2*u,m),p=k.gradients.shade(1+u,m),n=k.gradients.shade(1-0.1,m),q="background-image: -webkit-gradient(linear,left bottom,left top,color-stop(0%, #"+t+"),color-stop(90%, #"+p+"));background-image: -ms-linear-gradient(bottom, #"+t+",#"+p+");background-image: -moz-linear-gradient(center bottom,#"+t+" 0%,#"+p+" 100%);border-color: #"+n;return q;}},validation:{patterns:{email:"^[a-zA-Z0-9._-]+@[a-zA-Z0-9][a-zA-Z0-9.-]*[.]{1}[a-zA-Z]{2,6}$"},validators:{pattern:function(n,m){return new RegExp(m,"gi").test(n)?true:false;},isEmail:function(m){return k.validation.validators.pattern(m,k.validation.patterns.email);}}},getUrl:function(n,m){var p={},q=document.createElement("iframe");q.src=n;p.element=q;h.getElementsByTagName("head")[0].appendChild(q);k.bindEvents.call(p,{load:function(){q.parentNode.removeChild(q);if(k.isFunction(m)){m();}}});},updateStyleSheet:function(p){var n=h.getElementsByTagName("head")[0],m=h.createElement("style");m.type="text/css";if("styleSheet"in m){m.styleSheet.cssText=p;}else{m.appendChild(h.createTextNode(p));}n.appendChild(m);return m;},object2CSS:function(m,q){var p=""+m+"{";for(var n in q){p+=n+":"+q[n]+";";}p+="}\n";return p;},isCSSReady:function(q){var m=h.createElement("span"),n;m.id="addthissmartlayerscssready";m.style.color="#fff";h.body.appendChild(m);(function p(){var r=k.getCSSAttr(m,"color");if(r&&r==="rgb(186, 218, 85)"||r.toLowerCase()==="#bada55"){m.parentNode.removeChild(m);q();}else{setTimeout(p,250);}}());},removeElement:function(m){if(!k.isElement(m)||!k.isElement(m.parentNode)){return;}m.parentNode.removeChild(m);},isImageBroken:function(m){if(!m){return true;}var n=m.naturalWidth;if(!n||k.isNumber(n)&&n<2){return true;}return false;},getScrollBarWidth:function j(){if(!k.isUndefined(j.width)){return j.width;}var m={},n,q=0;if(!k.isUndefined(k.getCSSAttr(a,"-ms-overflow-style"))&&_ate.bro.msi&&!_ate.bro.ie9&&!_ate.bro.ie8&&!_ate.bro.ie7&&!_ate.bro.ie6){if(k.getCSSAttr(a,"-ms-overflow-style")!=="none"){q=k.scrollBarWidth();}}else{if(e.getComputedStyle){q=k.scrollBarWidth();if(q===0){var p=document.createElement("style");p.innerHTML="::-webkit-scrollbar { width: 10px; }";h.getElementsByTagName("head")[0].appendChild(p);q=k.scrollBarWidth();if(q>0){q=q;}h.getElementsByTagName("head")[0].removeChild(p);}}}j.width=q;return q;},scrollBarWidth:function(){var n,q,r=h.createElement("div"),p=h.createElement("div"),m;k.setCSSAttr(r,{width:"100px",height:"10000px"});k.setCSSAttr(p,{width:"100%",height:"100px",overflow:"auto"});a.appendChild(p);n=p.clientWidth;p.appendChild(r);q=p.clientWidth;a.removeChild(p);m=n-q;return m;},stripHashFromPath:function(m){m=m.split("#")[0];if(m.slice(-1)==="/"){m=m.substring(0,m.length-1);}return m;},indexOf:function(n){var m=function(r){var q=-1,p=-1;for(q=0;q<this.length;q++){if(this[q]===r||decodeURIComponent(this[q])===decodeURIComponent(r)){p=q;break;}}return p;};return m.call(this,n);},shareCounters:{getShareCounts:function(r,t){if(k.isUndefined(r)){return;}var p=r.services||r.service||r,n=r.url||r.countUrl,m=n||(e.addthis_share||{}).trackurl||_ate.track.mgu({}.url||(e.addthis_share||{}).url,{clean:1,defrag:1}),q=[];if(k.isArray(p)){k.each(p,function(v,u){k.shareCounters.requests.getCounts({service:u,countUrl:m},function(w){q.push(w);if(q.length===p.length){t.call(this,q);}});});}else{if(k.isString(p)){k.shareCounters.requests.getCounts({service:p,countUrl:m},function(u){t.call(this,u);});}}return this;},requests:{services:{facebook:{cb:function(n){var p=n.params,m=n.data;if(m.data.length){n.callbackFunc({elem:p.elem,service:p.service,countUrl:p.countUrl,count:!k.isNumeric(m.data[0].total_count)?0:m.data[0].total_count,share:m.data[0]});}},ajs:function(m){var n=m.params,p=m.cbname;_ate.ajs(this.baseUrl+_euc(n.countUrl)+"\"&"+this.jsonpParam+"="+p,1);},baseUrl:"//graph.facebook.com/fql?q=SELECT url, normalized_url, share_count, like_count, comment_count, total_count,commentsbox_count, comments_fbid, click_count FROM link_stat WHERE url=\""},twitter:{baseUrl:"//cdn.api.twitter.com/1/urls/count.json?url="},pinterest_share:{baseUrl:"//widgets.pinterest.com/v1/urls/count.json?url="},pinterest:{baseUrl:"//widgets.pinterest.com/v1/urls/count.json?url="},reddit:{cb:function(r){var u=r.params,q=r.data,m=0,p=0,t=0,n;if(q.data&&q.data.children){n=q.data.children;k.each(n,function(v,w){if(w.data&&!k.isUndefined(w.data.downs)&&!k.isUndefined(w.data.ups)){m+=w.data.ups;p+=w.data.downs;t+=w.data.score;}});r.callbackFunc({elem:u.elem,service:u.service,countUrl:u.countUrl,ups:+m,downs:+p,count:!k.isNumeric(+t)?0:+t});}},baseUrl:"//www.reddit.com/api/info.json?url=",jsonpParam:"jsonp"},delicious:{cb:function(n){var p=n.params,m=n.data;n.callbackFunc({elem:p.elem,service:p.service,countUrl:p.countUrl,count:m.length&&k.isNumeric(+m[0].total_posts)?+m[0].total_posts:0});},baseUrl:"//feeds.delicious.com/v2/json/urlinfo/data?url="},vk:{ajs:function(m){var n=m.params;if(!window.VK){window.VK={Share:{count:function(){clearTimeout(m.timeout);var p=this.counts[arguments[0]];m.callbackFunc({elem:p.elem,service:p.service,countUrl:p.countUrl,count:+arguments[1]});}}};}VK.Share.counts=VK.Share.counts||[];VK.Share.counts.push(n);_ate.ajs(this.baseUrl+(VK.Share.counts.length-1)+"&url="+_euc(n.countUrl),1);},baseUrl:"//vk.com/share.php?act=count&index="},linkedin:{baseUrl:"//www.linkedin.com/countserv/count/share?url="},odnoklassniki_ru:{ajs:function(m){var n=m.params,p=m.cbname;_ate.ajs(this.baseUrl+_euc(n.countUrl)+"&"+this.jsonpParam+"="+p,1);},baseUrl:"//www.odnoklassniki.ru/dk?st.cmd=shareData&ref=",jsonpParam:"cb"},compact:{baseUrl:"//api-public.addthis.com/url/shares.json?url="},defaults:{cb:function(p){var q=p.params,n=p.data,m=+n.count||+n.shares;if(!k.isUndefined(m)){p.callbackFunc({elem:q.elem,service:q.service,countUrl:q.countUrl,count:!k.isNumeric(m)?0:m});}},ajs:function(m){var n=m.params,p=m.cbname;_ate.ajs(this.baseUrl+_euc(n.countUrl)+"&"+this.jsonpParam+"="+p,1);},jsonpParam:"callback"}},timeout:5000,getCounts:function(r,n){var v=k.shareCounters.requests,m=v.services[r.service],q=v.services.defaults,u=r.countUrl,p,t;if(!v||!v.services||!v.services.defaults){n({elem:r.elem,service:r.service,countUrl:r.countUrl,error:"Could not find necessary JavaScript object",count:"?"});return;}if(!v.services[r.service]||!v.services[r.service].baseUrl){n({elem:r.elem,service:r.service,countUrl:r.countUrl,error:"Service not supported",count:"?"});return;}m.jsonpParam=m.jsonpParam||q.jsonpParam||"callback";u=u.length>25?u.substring(0,25):u;p=setTimeout(function(){n({elem:r.elem,service:r.service,countUrl:r.countUrl,error:"Service request timed out",count:"?"});},v.timeout);t=_ate.util.scb("rcb",u,function(w){clearTimeout(p);if(k.isFunction(m.cb)){m.cb({params:r,data:w,callbackFunc:n});}else{if(k.isFunction(q.cb)){q.cb({params:r,data:w,callbackFunc:n});}}});if(r.service==="pinterest_share"||r.service==="pinterest"){t="window."+t;}if(k.isFunction(m.ajs)){m.ajs.call(m,{params:r,callbackFunc:n,cbname:t,timeout:p});}else{if(k.isFunction(q.ajs)){q.ajs.call(m,{params:r,callbackFunc:n,cbname:t});}}return this;}}},truncateCount:function(m){var n=(""+m).split(".").shift().length;if(!k.isNumeric(m)){return m;}else{if(n<4){return Math.round(m);}else{if(n<7){return k.roundWithSuffix(m,1000,"K");}else{if(n<10){return k.roundWithSuffix(m,1000000,"M");}else{return k.roundWithSuffix(m,1000000000,"B");}}}}},roundWithSuffix:function(q,p,m){q/=p;q=Math.round(q*10)/10;if((q+"").length>4){q=Math.round(q);}return q+m;},decisionEngine:{run:function(n){var q=this,m,p;k.each(n,function(t,r){if(!k.isPlainObject(r)){return;}m=r.match;if(k.isUndefined(m)||k.isEmptyObject(m)){q.matchObject=r;}else{if(m){p=k.decisionEngine.testAll.call(q,m);if(p){q.matchObject=r;}}}});return status;},testAll:function(n){var q=this,m={},p=true;k.each(n,function(r,t){m[r]=t;p=k.decisionEngine.testOne(m);return p;});return p;},testOne:function(n){var m=true;k.each(n,function(q,p){if(k.decisionEngine.match.hasOwnProperty(q)){m=function(){if(k.isBoolean(p)){return p===k.decisionEngine.match[q](p);}else{return k.decisionEngine.match[q](p);}}();return m;}});return m;},match:{referrer:function(n){if(k.isString(n)){n=[n];}for(var m in n){var p=n[m];if(new RegExp(p).test(h.referrer)){return true;}}return false;},referringService:function(p){if(k.isString(p)){p=[p];}var n=c.session.source();if(n.type!=="social"||k.isUndefined(n.service)){return false;}for(var m in p){var q=p[m];if(q===n.service){return true;}}return false;},usesService:function(q){if(k.isString(q)){q=[q];}var p=c.user.services();for(var n in p){for(var m in q){if(!k.isUndefined(p[n].name)&&p[n].name===q[m]){return true;}}}return false;},service:function(m){if(k.decisionEngine.match.usesService(m)||k.decisionEngine.match.referringService(m)){return true;}return false;},preferredService:function(q){var p=c.user.services();if(k.isString(q)){q=[q];}if(!p.length){return false;}var m=p[0].name;for(var n in q){var r=q[n];if(r===m){return true;}}return false;},location:function(n){if(k.isString(n)){n=[n];}for(var m in n){if(new RegExp(n[m]).test(h.location.href)){return true;}}return false;},url:function(m){return k.decisionEngine.match.location(m);},mobile:function(){return k.mobile.apply(k,arguments);},tablet:function(){return k.tablet.apply(k,arguments);},phone:function(){return k.tablet.apply(k,phone);},socialBrowser:function(n){var m=/FBFor|Twitter/i.test(navigator.userAgent);return m;},desktop:function(){return k.desktop.apply(k,arguments);},browser:function(){return k.browser.apply(k,arguments);},sameDomain:function(m){},locatedIn:function(m){return c.user&&c.user.isLocatedIn?c.user.isLocatedIn(m):false;},time:function(p){if(!p){return false;}var t,m,r=true,n=new Date();t=p.start||null;m=p.end||null;if(!t&&!m){return false;}function q(v){if(!k.isString(v)){return v;}var w=null;try{if(!k.has(v,"/")&&!k.has(v,",")&&k.has(":")){w=new Date(n.getMonth()+1+"/"+n.getDate()+"/"+n.getFullYear()+" "+v);}else{w=new Date(v);}}catch(u){}return w;}if(t&&k.isString(t)){t=q(t);}if(m&&k.isString(m)){m=q(m);}if(t&&n<t){return false;}if(m&&n>m){return false;}return r;},returning:function(){return c.user.isReturning();},query:function(p){var w=h.location.search;if(!k.isString(w)||!k.has(w,"=")){return false;}var r=w.substring(1).split("&");var u={};var q;for(q in r){var t=r[q].split("=");var n=t[1];var m=t[0];if(k.has(n,"+")&&k.has("utm_term",m)){n=n.split("+").sort().join("+");}u[t[0]]=n;}for(q in p){if(!(q in u)){return false;}switch(q){case"utm_term":if(k.has(u[q],p[q])){return false;}break;default:if(p[q]!==u[q]){return false;}break;}}return true;},utm_source:function(m){return k.decisionEngine.match.query({utm_source:m});},utm_medium:function(m){return k.decisionEngine.match.query({utm_medium:m});},utm_term:function(n){if(k.isString(n)){n=n.split("+");}for(var m in n){if(!k.decisionEngine.match.query({utm_term:n[m]})){return false;}}return true;},utm_content:function(m){return k.decisionEngine.match.query({utm_content:m});},utm_campaign:function(m){return k.decisionEngine.match.query({utm_campaign:m});},iframe:function(m){if(k.isUndefined(m)){m=true;}return e.top!==e===m;},custom:function(m){if(k.isFunction(m)){return m();}else{return!!m;}},hasTag:function(m){if(k.isArray(m)){k.each(m,function(n,p){if(c.user.hasTag(p)){return true;}});return false;}return c.user.hasTag(m);},hasTags:function(m){if(k.isString(m)){m=[m];}for(var n in m){if(!k.decisionEngine.match.hasTag(m[n])){return false;}}return true;}}}};return k;}(g.qwery,g.rAF);g.common=function(b,l,k){var d={create:function(){var q=this,r=q.options,m=k.isString(r.position)?r.position.toLowerCase():q.position||"right",p=r.showAnimation==="show"?"show":m==="top"?"slideInDown":m==="bottom"?"slideInUp":m==="left"?"slideInLeft":"slideInRight",n=r.hideAnimation==="hide"?"hide":m==="top"?"slideOutUp":m==="bottom"?"slideOutDown":m==="left"?"slideOutLeft":"slideOutRight";q.options=k.extend(r,{showAnimation:p,hideAnimation:n});q.position=m;},bindEvents:function(){if(this.status==="disabled"){return this;}if(k.isString(this.element)){this.element=b(this.element)[0];}k.bindEvents.call(this,this.events);return this;},layerList:{},layers:function(){if(k.mobile()){if(_ate.bro.dro){var n=navigator.userAgent,m=parseFloat(n.slice(n.indexOf("Android")+8));if(m<3){var q=new _ate.resource.Resource("layersdroidcss",_atc.rsrcs.layersdroidcss);q.load();}}return this.mobileLayers;}else{if(_ate.bro.ie6||k.isIEQuirksMode()){var p=new _ate.resource.Resource("layersiecss",_atc.rsrcs.layersiecss);p.load();return this.degradedLayers;}else{return this.desktopLayers;}}},feeds:{},active_layers:{},feedsLoading:{},layersPco:"sml-1.0",language:false,personalize:true,pco:function(){return this.layersPco+","+this.pco;},pcoMap:{smlsh:"share",smlfw:"follow",smlwn:"whatsnext",smlre:"recommended",smlres:"recommendedside",cod:"drawer",smlrebv:"recommendedbox",smlrebh:"recommendedbox",resh:"responsiveshare",smlmo:"dock",msd:"sharedock"},enabledLayers:{},degradedLayers:{share:"share",follow:"follow",welcome:"welcome"},desktopLayers:{share:"share,thankyou",follow:"follow,thankyou",recommended:"recommended",recommendedbox:"recommendedbox",recommendedside:"recommendedside",drawer:"drawer",welcome:"welcome",whatsnext:"whatsnext",warning:"warning",responsiveshare:"responsiveshare",dock:"dock",sharedock:"sharedock"},mobileLayers:{share:"mobile,thankyou",follow:"mobile,thankyou",recommended:"recommended",recommendedbox:"recommendedbox",welcome:"welcome",warning:"warning",responsiveshare:"responsiveshare",dock:"dock",sharedock:"sharedock"},layersList:{},utils:k,preferredServices:[],translationIds:{share:{postShareTitle:97,postShareFollowMsg:96,postShareRecommendedMsg:99},follow:{postFollowTitle:98,postFollowRecommendedMsg:99},whatsnext:{recommendedTitle:99},recommended:{title:99}},defaultOptions:{share:{position:"left",postShareTitle:"Thanks for sharing!",postShareFollowMsg:"Follow",postShareRecommendedMsg:"Recommended for you",desktop:true,mobile:true,services_exclude:"",counts:false},responsiveshare:{showAnimation:"show"},sharedock:{},follow:{services:false,title:"",postFollowTitle:"Thanks for following!",postFollowRecommendedMsg:"Recommended for you",desktop:true,mobile:true,visible:"smart"},whatsnext:{recommendedTitle:"Recommended for you"},recommended:{title:"Recommended for you",desktop:true,mobile:true,orientation:"horizontal",size:"large",maxitems:4,defaultimage:true,textonly:false,showAnimation:"show",hideAnimation:"hide"},recommendedbox:{size:"medium",maxitems:"auto",theme:"minimal",promotedUrls:[]},recommendedside:{theme:"light",position:"right",showAnimation:"slideInLeft",hideAnimation:"slideOutRight"},drawer:{theme:"dark",position:"right",orientation:"vertical",maxitems:"auto",animationType:"overlay",showAnimation:"slideInLeft",hideAnimation:"slideOutRight"},welcome:{show:true,coverPage:false,fixed:false,rememberHide:true,watermark:true,delay:0,showOnScrollTo:false,position:"top",backgroundColor:"#000000",buttonColor:"#098DF4",textColor:"#FFFFFF",linkTextColor:"#FFFFFF",buttonTextColor:"#FFFFFF",noGradient:false,alwaysShow:false,message:"If you enjoy this page, do us a favor:",action:{text:"Share this page",verb:"share",type:"button"}},thankyou:{showAnimation:"fadeIn",hideAnimation:"fadeOut"},mobile:{buttonBarPosition:"bottom",showAnimation:"fadeIn",menuShowAnimation:"slideInUp",menuHideAnimation:"slideOutDown",buttonBarTheme:"light"},dock:{},warning:{test:false},theme:"transparent",domain:"",linkFilter:function(n,m){return n;},pubid:"",altRecommendedPubId:"",responsive:{maxWidth:979,minWidth:0}},themes:{minimal:".at4-minimal",dark:".ats-dark",light:".ats-light",gray:".ats-gray",transparent:".ats-transparent"},serviceBlacklist:{settings:true,more:true},originalPageWidth:function(){return k.pageWidth();}(),hiddenClass:"at4-visually-hidden",alternativeHiddenClass:"at4-hidden-off-screen",hideClass:"at4-hide",visibleClass:"at4-visible",showClass:"at4-show",opacityHiddenClass:"at4-opacity-hidden",opacityVisibleClass:"at4-opacity-visible",globalEvents:{"window scroll":k.debounce(function(){k.trigger("addthis.layers.scroll",c,this);},250),"document keydown":function(n){var m=k.isNumber(n.keyCode)?k.KEYCODES[n.keyCode]:false;if(m){k.trigger("addthis.keydown."+m,c,this);}},"addthis.layers.loaded":function(m){d.welcomeBarAndMobile();},"addthis.layers.resize":function(){d.showResponsiveLayers();}},desktopEvents:{"addthis.layers.rendered":k.once(function(){k.bindEvents.call(d,{"window resize":k.debounce(function(){k.trigger("addthis.layers.resize",c,this);},150)});})},commonEventHandlers:{share:{buttonClick:function(v,u){var r=u.className.split(" "),p=r.length,n=this.superMethod("pco"),t="",q=-1,m=u.parentNode;if(m&&(k.hasClass("at4-share-btn",m)||k.hasClass("at-share-btn",m))){u=m;}r=u.className.split(" ");p=r.length;while(++q<p){if(r[q].indexOf("at-svc-")===0){t=r[q].substring(7);}}this.superMethod("share",t,n);k.preventDefaultEvent(v);}},mobile:{showExpandedShareMenu:function(r,p){k.preventDefaultEvent(r);var m=this,q=this.history.getState&&this.history.getState(),n=d.active_layers.addthis.sharedock;this.currentLayerType="share";this.menuHeader.innerHTML=_ate._t("Share",91);this.superMethod("showControl",this.searchBox.parentNode);if(q===null||q&&q.menu===false){if(this.history.replaceState){this.history.replaceState({menu:false,opening:true},h.title,e.location.href);}if(this.history.pushState){this.history.pushState({menu:"share"},h.title,e.location.href);}}else{if(this.history.replaceState){this.history.replaceState({menu:"share"},h.title,e.location.href);}}this.resetZoom();this.generateShareServices();k.removeClass(d.hideClass,this.container);this.show(this.menu,this["options"].menuShowAnimation,function(){m.hideDesktopScrollbar();});k.requestTimeout(function(){if(n){k.addClass("at-share-dock-zindex-hide",n.element);}},400);},hideExpandedShareMenu:function(){var p=this,q=this.shareButton,m=this.followButton,n=d.active_layers.addthis.sharedock;if(n){k.removeClass("at-share-dock-zindex-hide",n.element);}k.addClass(d.hideClass,p.searchClear);if(this.history.getState&&this.history.getState()&&this.history.getState().menu){e.history.go(-1);}else{this.showDesktopScrollbar();this.hide(this.menu,this["options"].menuHideAnimation);if(this.mobile){if(this.history.replaceState){this.history.replaceState({menu:false,opening:false},h.title,e.location.href);}if(this.history.pushState){this.history.pushState({menu:false,empty:true},h.title,e.location.href);e.history.go(-1);}}}if(q&&q.length){k.specialEvents.blur(q);}if(m&&m.length){k.specialEvents.blur(m);}}}},showResponsiveLayers:function(){var u=d.active_layers,p="desktop",q,t,m,n,r,v;k.each(u,function(w,x){k.each(x,function(z,y){z=y.basename;if(z==="mobile"){return false;}p=k.mobile()?"mobile":k.getCurrentDevice(y);if(p==="desktop"){if(y.basename==="mobile"&&k.isVisible(y.menu)){k.trigger("addthis.layers.mobilemenu.hide",c,y);}}q=y.device;t=y.element;m=y.container;n=y.openControl;r=n&&k.isElement(n);if(q!=="both"){if(q===p){if(!k.isVisible(t)&&!k.isVisible(n)){k.trigger("addthis.layers.responsive."+z+".show");if(m!==h.body&&m!==t){k.removeClass(d.hideClass,m);k.removeClass(d.hiddenClass,m);}if(y.status!=="closed"){y.show();}else{if(y.requiresData!==true||y.requiresData===true&&y.trendingLinksJson&&y.trendingLinksJson.length){y.show(n);}}}}else{if(k.isVisible(t)||k.isVisible(n)){k.trigger("addthis.layers.responsive."+z+".hide");if(m!==h.body){k.addClass(d.hideClass,m);}k.addClass(d.hideClass,t);k.addClass(d.hideClass,n);}}}});});k.trigger("addthis.layers.resized");},onloadShowLogic:function(w){var r=w.namespace,x=w.basename,q=w.element,y=k.mobile(),m=w.device,A=w.container,C=w.options,t=C.showAnimation||"show",v=(C.delay||0)*1000,p=C.hideAfter||false,n=w.placeholder,z=w.device,B=w.openControl,u=k.mobile()?"mobile":k.getCurrentDevice(w);if(w.rendered!==true&&w.showOnLoad!==false&&(z==="both"||z===u)&&!(x==="mobile"&&!y)||C.showImmediately===true){if(k.isElement(q)){if(w.status!=="closed"||C.showImmediately===true){k.requestTimeout(function(D){if(k.isElement(n)){h.body.insertBefore(n,h.body.firstChild);h.body.insertBefore(w.container,h.body.firstChild);k.setCSSAttr(n,{height:q.offsetHeight+q.offsetTop+"px"});}k.addClass(d.hideClass,q);k.removeClass(d.hiddenClass,q);k.removeClass(d.hiddenClass,A);w.show(q,t,function(){k.trigger(r+"."+x+".shown",c,{});});},v);}else{l(function(){k.removeClass(d.hiddenClass,q);k.removeClass(d.hiddenClass,A);if(w.requiresData!==true||w.requiresData===true&&w.trendingLinksJson&&w.trendingLinksJson.length){w.show(w.openControl);}});}w.rendered=true;k.trigger("addthis.layers."+w.name+".rendered",c,this);}}else{k.addClass("animated",q);k.addClass(t,q);k.addClass(d.showClass,q);k.addClass(d.hideClass,q);k.removeClass(d.hiddenClass,q);}},welcomeBarAndMobile:function(){if(d.welcomeBarAndMobile.alreadyCompleted===true){return;}var q=d.active_layers,p,m,n=q&&q.addthis&&q.addthis.mobile,r=q&&q.addthis&&q.addthis.welcome;if(n&&r){p=q.addthis.mobile;m=q.addthis.welcome;if(p.position===m.position){m.device="desktop";}}d.welcomeBarAndMobile.alreadyCompleted=true;},followServices:{facebook:"Facebook",flickr:"Flickr",foursquare:"Foursquare",google_follow:"Google+",instagram:"Instagram",linkedin:"LinkedIn",pinterest:"Pinterest",rss:"RSS",tumblr:"Tumblr",twitter:"Twitter",vimeo:"Vimeo",youtube:"YouTube"},superMethod:function(p,n){var m=Array.prototype.slice.call(arguments,0);m.shift();return d[p].apply(this,m);},animate:function j(q,n,z){if(!q){return;}if(n==="show"){n=d.showClass;}else{if(n==="hide"){n=d.hideClass;}}if(n===d.showClass||n===d.hideClass){q.__isAnimating=false;}if(q.__isAnimating){if(k.isFunction(z)){z.call(this);}return;}else{q.__isAnimating=true;}var t=["animationend","webkitAnimationEnd","oAnimationEnd","oanimationend","msAnimationEnd"],u=["fadeIn","fadeInRight","fadeInLeft","fadeInUp","fadeInDown","slideInLeft","slideInRight","slideInUp","slideInDown",d.showClass],p=["fadeOut","fadeOutRight","fadeOutLeft","fadeOutUp","fadeOutDown","slideOutLeft","slideOutRight","slideOutUp","slideOutDown",d.hideClass],x=k.toObject(p),y=k.toObject(u),B={},v=k.isElement(q),r=z,w=function(){l(function(){if(y[n]){k.removeClass(d.hideClass,q);k.addClass(d.showClass,q);}else{if(x[n]){k.removeClass(d.showClass,q);k.addClass(d.hideClass,q);}}k.removeClass(d.visibleClass,q);});if(k.isFunction(r)){r.call(this);}k.bindEvents.call(B,B,"remove");q.__isAnimating=false;},m=k.supports.csstransitions(),A=u.concat(p);w=f.bind(w,this);if(m){k.each(A,function(C){k.removeClass(A[C],q);});k.each(t,function(C,D){if(v){B[D]=w;}else{B[q+" "+D]=w;}});if(v){B.element=q;}j.evts=B;if(k.getCSSAttr(q,"display")==="none"){k.addClass(d.visibleClass,q);}k.bindEvents.call(B,B);k.addClass("animated",q);k.addClass(n,q);}else{w();}},processTrendingData:function(m,q,p){var n=this;if(p){d.feeds[m+q]=p;d.feedsLoading[m+q]=false;}this.dequeueTrending(m,q);},preRender:function(){var p=this,n=p.parentElement,r,m=p.device,q=p.prerender?p.prerender():f.json2html({".addthis-smartlayers-outer-container":""});if(k.isElement(q)){d.addDeviceClassName(q,m);n.appendChild(q);p.parentElement=p.container=q;}},render:function(){var t=this,w=t.options,u=t.parentElement,v,p,q,r,m,n=t.device;if(t.status==="disabled"){t.finalize();}t.offset();if(k.isFunction(t.jsonTemplate)){v=t.jsonTemplate(t);}else{if(k.isFunction(t.generateJson)){v=t.generateJson(t);}}if(v){if(k.isElement(u)){p=f.json2html(v);m=t.container=t.container||p;k.addClass("addthis-smartlayers",m);if(k.isIEQuirksMode()){k.addClass("addthis-smartlayers-quirks-mode",m);}if(_ate.bro.ie6){k.addClass("addthis-smartlayers-ie6",m);}else{if(_ate.bro.ie7){k.addClass("addthis-smartlayers-ie7",m);}else{if(_ate.bro.ie8){k.addClass("addthis-smartlayers-ie8",m);}else{if(_ate.bro.ie9){k.addClass("addthis-smartlayers-ie9",m);}}}}if(t.showOnLoad!==false){k.addClass(d.hiddenClass,m);}else{k.addClass(d.hideClass,m);}d.addDeviceClassName(m,n);if(!k.supports.csstransitions()){w.showAnimation="show";w.hideAnimation="hide";}else{w.showAnimation=w.showAnimation||"fadeIn";w.hideAnimation=w.hideAnimation||"fadeOut";}if(t.inline&&u===h.body){return;}u.appendChild(p);d.render_logic.call(t,p);}}else{d.render_logic.call(t);}},render_logic:function(){var m=this;m.finalize().bindEvents().postEvents();if(m.async===true){if(k.isFunction(m.imageResizing)){m.imageResizing(function(){d.onloadShowLogic(m);});}else{d.onloadShowLogic(m);}}else{d.onloadShowLogic(m);}},addDeviceClassName:function(n,m){if(m==="mobile"||m==="desktop"){k.addClass("addthis-smartlayers-"+m,n);}},postEvents:function(){var n=k.getScrollBarWidth(),m=this.position==="right",p=this.namespace,t=this.basename,u=p==="addthis"&&t==="whatsnext",v=p==="addthis"&&t==="share",r=p==="addthis"&&t==="recommendedside",w=this.openControl,q=this.element;if(k.isNumber(n)&&n>0){if(k.isElement(w)){if(m){k.setCSSAttr(w,"padding-right",n+"px");}else{if(u){k.setCSSAttr(w,"right",n+"px");}}}if(_ate.bro.ie10&&k.isElement(q)&&!r){if(m||u){k.setCSSAttr(q,v?"padding-right":"right",n+"px");}}}},offset:function(){var p=this.options.offset,n,m,q={};if(p){n=document.getElementById(this.name+"-offset")||(n=document.createElement("style"))&&(n.type="text/css")&&(n.rel="stylesheet")&&(n.media="screen")&&(n.id=this.name+"-offset")&&b("head")[0].appendChild(n)&&n;switch(this.name){case"share":case"whatsnext":break;default:q={left:true,right:true};break;}m=this.element;if(this.openControl){m+=","+this.openControl;}m+=" {";if(p.top&&!q.top){m+="top:"+p.top+";"+(!p.bottom?"bottom:auto":"");}if(p.left&&!q.left){m+="left:"+p.left+";"+(!p.right?"right:auto;":"");}if(p.bottom&&!q.bottom){m+="bottom:"+p.bottom+";"+(!p.top?"top:auto;":"");}if(p.right&&!q.right){m+="right:"+p.right+";"+(!p.left?"left:auto":"");}m+="}";if(n.styleSheet&&n.styleSheet.cssText!==i){n.styleSheet.cssText=m;}else{n.innerHTML=m;}if(!n.parentElement&&m.indexOf("{}")===-1){b("head")[0].appendChild(n);}}},finalize:function(){var n=this,m=n.options,p=!_ate.bro.ie6&&!_ate.bro.ie7&&!k.isIEQuirksMode()&&k.isArray(n.services)&&(m.counts===true||m.counts==="true");if(n.closeControl){n.closeControl=b(n.closeControl)[0];}if(n.openControl){n.openControl=b(n.openControl)[0];}if(n.element){n.element=b(n.elementSelector)[0];}if(n.status==="closed"){k.addClass(d.hideClass,n.element);}n.container=n.async===true?n.parentElement:_ate.util.parent(n.element,".addthis-smartlayers")===h?n.element.parentNode:_ate.util.parent(n.element,".addthis-smartlayers");if(p){k.shareCounters.getShareCounts({services:n.services},function(r){if(n.rendered){n.displayCounts(r);}else{var q={};q["addthis.layers."+n.basename+".rendered"]=function(){n.displayCounts(r);};k.bindEvents.call(n,q);}});}k.trigger("addthis.layer.rendered",{layer:n});return n;},queue:function(p,n,m){return k.queue.call(d,p,n,m||this);},dequeue:function(m){return k.dequeue.call(d,m);},show:function(q,m,t){var p=this,r=p.element,n=p.options;l(function(){m=m||n.showAnimation;q=q||(k.isElement(r)?r:k.isString(r)?b(r):"");if(m&&!k.isVisible(q)){p.animate(q,m,t);}else{if(k.isFunction(t)){t();}}});},hide:function(p,t,r){var n=this,q=n.element,m=n.options;l(function(){t=t||m.hideAnimation;p=p||(k.isElement(q)?q:k.isString(q)?b(q):"");if(t&&k.isVisible(p)){n.animate(p,t,r);}else{if(k.isFunction(r)){r();}}});},showControl:function(m){k.removeClass(d.hideClass,m);k.addClass(d.showClass,m);},hideControl:function(m){k.removeClass(d.showClass,m);k.addClass(d.hideClass,m);},feed:function(v,r){var w=this,u=w.feedName(),t=w.feeds[u]||(w.feeds[u]=[]),x=w.options,q=e.addThisLinkFilter||x.linkFilter,m=h.location.href.split("#")[0].replace(/\//g,"").replace(/(http:|https:)/,""),p,n=true;if(t&&t.length>0){if(!w.filteredData||v&&!t[v.name]){p=w.filteredData=w.feeds[u][v?v.name:"filtered"]=k.filter(t,function(A,B,z){if(A._removed){return false;}A._secureurl=k.has(A.url,"https:");if(A.image){A._secureimage=k.has(A.image,"https:");A.image=A.image.replace(/(http:|https:)/,"");}if(m===A.url.split("#")[0].replace(/\//g,"").replace(/(http:|https:)/,"")||q&&!q(A)){A._removed=true;return false;}if(v!==i){if(!v.filter(A)){return false;}}if(n){var y=k.match({title:A.title,image:A.image},z,v?v.name:"filtered");if(y.length>1){k.each(y,function(C,D){if(D._removed){return;}if(C>0){D._removed=true;}});}}return true;});if(!this.personalize){k.randomize(p);if(r){p.sort(r);}}}}return t;},feedName:function(){return this.name+(this.domain||"");},feedItem:function(q){var r=q.feed||this.feed(q.test,q.sort),p,m,n=[];r=r&&r[q.test?q.test.name:"filtered"];q.repeat=q.repeat||0;if(r&&r.length>0){while(r.length>0){p=r.shift();n.push(p);if(!p._displayed||p._displayed<q.repeat){p._displayed=q.repeat;m=p;break;}if(r.length===0){q.repeat++;r.repeat=q.repeat;Array.prototype.push.apply(r,n);n=[];}}Array.prototype.push.apply(r,n);n=[];return m;}},retrieveTrendingData:function(){if(this.status==="disabled"){return this;}_ate.feeds.ab();var m=e.addthis_config||{},n=this.options.altRecommendedPubId||this.options.pubid||e.addthis_pub||m.pubid||"",r=this.options.domain,p=this.options.numItems,u=this.processTrendingData,q=d,t;u=u?f.bind(u,this):function(){};t={callback:function(v){u(n,r,v);},pubid:n,domain:r,total:p};if(n){if(!q.checkForContentFeed(n,r)&&!q.checkForContentFeedLoading(n,r)){q.feedsLoading[n+r]=true;if(this.personalize){_ate.feeds.recommend(t);}else{_ate.feeds.trend(t);}setTimeout(function(){if(q.feedsLoading[n+r]===true){q.feedsLoading[n+r]=false;u(n,r,[]);}},5000);}else{if(q.checkForContentFeed(n,r)&&!q.checkForContentFeedLoading(n,r)){this.dequeueTrending(n,r);}}}else{this.dequeueTrending(n,r);}},checkForContentFeed:function(m,n){if(this.feeds[m+n]){return true;}else{return false;}},checkForContentFeedLoading:function(m,n){if(this.feedsLoading[m+n]){return true;}else{return false;}},normalizeTrendingItem:function(p,t){var r=t.numItems||t.itemCount||1,n=t.pos||0,q=_ate.dctu({url:p.url||"",total:r,pco:this.pco,pos:n}),v=p.title||q,u=_ate.util.gUD(q).replace("http://","").replace("https://",""),m;p.url=q;p.title=v;p.domain=p.isSponsored?p.domain:u;return p;},noImageClasses:{minimal:"at4-no-image-minimal-recommended",transparent:"at4-no-image-light-recommended",light:"at4-no-image-light-recommended",gray:"at4-no-image-gray-recommended",dark:"at4-no-image-dark-recommended"},generateTrendingJson:function(r,H){var O=d,J=this,p=J.options,t=O.feeds[J.options.pubid+J.options.domain],C,z=[],B=H,N=[],v=p.maxitems||p.maxItems,D=p.defaultimage,u=p.textonly,x,I=p.theme,F=J.noImageClasses,G=0,n=J.hasImage=false,y=J.hasTitle=false,K=k.isPlainObject(p.promotedUrls)?k.toArray(p.promotedUrls):k.isString(p.promotedUrls)&&p.promotedUrls.length?[p.promotedUrls]:p.promotedUrls||[],q=K.length>0?true:false,A="",L="",m=h.domain,w=[],E=false;J.feeds[J.feedName()]=t;function M(Q,P){return!!Q.image?!!P.image?0:-1:1;}if(t&&B){t.repeat=t.repeat?t.repeat:1;for(G=0;G<B;G++){C=this.feedItem({repeat:t.repeat,sort:M});if(C){if(C.image){n=J.hasImage=true;}if(C.title){y=J.hasTitle=true;}z.push(C);}}if(q){k.each(K,function(P,Q){if(k.isString(Q)){K[P]=k.stripHashFromPath(Q);}else{if(k.isPlainObject(Q)&&Q._atType==1){w.push({title:Q.name,url:Q.url,image:Q.thumbnail.length?Q.thumbnail[0].url:"",promoteToLayer:true,isSponsored:true,domain:Q.branding});}}});k.each(t,function(R,Q){A=k.stripHashFromPath(Q.url);if(k.indexOf.call(K,A)!==-1){Q=k.cloneObject(Q);for(var P=0;P<z.length;P++){if(z[P].url===Q.url||P===z.length-1){z.splice(P,1);break;}}Q.promoteToLayer=true;z.unshift(Q);}});if(w.length){k.each(w,function(Q,P){z.unshift(P);z.pop();});}}if(J.requiresImage===true&&n===false||y===false){return[];}k.each(z,function(Q,P){x=[];if(P&&P.url){J.normalizeTrendingItem(P,{itemCount:B,numItems:v,pos:Q});if(!E&&P.isSponsored){x.push({"div.sponsored-label":{html:"Promoted Content"}});E=true;}if(u!==true&&n===true){if(P.image){x.push({".at4-recommended-item-img":{a:{href:P.url,title:P.title,"img.at-tli":{src:P.image,alt:P.title,"data-secure":P._secureimage?"true":""}}}});}else{if(D===true&&J.showPlaceholderImages!==false){var R={};R[".at4-recommended-item-img."+F[I]]={".at4-recommended-item-placeholder-img":{}};x.push(R);}}}if(J.requiresImage!==true||J.requiresImage===true&&P.image){x.push({".at4-recommended-item-caption":[{h4:{"a.at-recommendedTitle":{href:P.url,html:P.title,title:P.title}}},{small:P.domain}]});}else{return[];}if(r.indexOf("smlres")===0){N.push({"a.at4-recommended-item.at4-recommended-div-item":x});}else{N.push({".at4-recommended-item.at4-recommended-div-item":x});}}});return N;}return false;},resizeTrendingImage:function(t){var w=this,n=t.parentNode.parentNode,v,q,x,p=0,r,m;if(this.status==="closed"){k.addClass(d.visibleClass,this.element);k.removeClass(d.hideClass,this.element);}else{if(k.isElement(this.container)){k.addClass(d.visibleClass,this.container);}}if(k.isUndefined(t.naturalHeight)){v=new Image();v.src=t.src;t.naturalWidth=v.width;t.naturalHeight=v.height;}q=t.naturalWidth;x=t.naturalHeight;if(!n){return;}else{while(p++<5&&(!n.offsetWidth||!n.offsetHeight)&&n.parentNode){n=n.parentNode;}}r=n.offsetWidth;m=n.offsetHeight||x;if(this.status==="closed"){k.addClass(d.hideClass,this.element);k.removeClass(d.visibleClass,this.element);}else{if(k.isElement(this.container)){k.removeClass(d.visibleClass,this.container);}}if(x>q){x=Math.ceil(x*(r/q));q=r;try{t.style.height=x+"px";t.style.width=q+"px";t.style.top="-"+Math.ceil((x-m)/2)+"px";}catch(u){}}else{q=Math.ceil(q*(m/x));x=m;try{t.style.width=q+"px";t.style.height=x+"px";t.style.left="-"+Math.ceil((q-r)/2)+"px";}catch(u){}}},queueTrending:function(m,n,p){this.queue(m+n,p);this.retrieveTrendingData();},dequeueTrending:function(m,p){var n;while(n=this.dequeue(m+p)){n.item.call(n.context);}},resizeTrendingTitle:function(q){if(_ate.bro.ie6||_ate.bro.ie7||_ate.bro.ie8){return;}if(q&&q.parentNode){var u=q,p=u.parentNode,t=p.clientHeight,n=u.offsetHeight,m=1,r=u.innerHTML,v;if(n>t){while(u.offsetHeight>t&&r.length-m>0){v=r.substr(0,r.length-m++);u.innerHTML=v+"...";}v=v.replace(/[\s\.,-\/#!$%\^&\*;:{=\-_`~(]+$/,"");u.innerHTML=v+"...";}}},generateFollowJson:function(m){var p=[],n=this;k.each(m,function(u,t){var x={},v=t.service,w=t.id,r=t.usertype,q=_ate.share.gfu(v,w,r);if(v&&w&&q){x["span.at4-icon-fw.aticon-"+v]={html:n.followServices[v]||"",svc:v,svcId:w,title:n.followServices[v]};if(v!="twitter"||k.mobile()){x.href=q;x.target="_blank";}else{x.href="#";}p.push({"a.aticon.at-follow-btn":x});}});return!p||!p.length?false:p;},share:function(t,v){var r=this,u=e.addthis_config?f.clone(e.addthis_config):{},w=e.addthis_share?f.clone(e.addthis_share):{},p=w.url||addthis_share.url;u.product=v;u.pubid=u.username=this.options.pubid||e.addthis_pub||u.pubid||"";w.service=t;switch(t){case"addthis":case"more":case"compact":var q=k.mobile()?"mobile":k.getCurrentDevice(r);if(q==="mobile"){if(d.active_layers.addthis.dock||d.active_layers.addthis.mobile||d.active_layers.addthis.mobilesharemenu){k.trigger("addthis.layers.mobilesharemenu.show");}else{addthis.layers({mobilesharemenu:true,pi:true},function(){k.trigger("addthis.layers.mobilesharemenu.show");});}}else{u.ui_pane="";_ate.ao(h.body,"more","","",u,w);}break;case"mailto":e.location.href=_ate.share.genieu(w,u,1);break;case"email":new Image().src=_ate.share.genurl(t,0,w,u);u.ui_pane="email";_ate.ao(h.body,"more","","",u,w);break;case"pinterest":case"pinterest_share":case"thefancy":_ate.share.img(t);break;case"favorites":var m=w.url,n=w.title;n=_ate.trim(n);m=_ate.track.cof(m);m=_ate.track.mgu(m,w.share_url_transforms||w.url_transforms,w,t);m=_ate.share.acb(t,w,u,m,1);if(_ate.bro.ipa){alert("Tap the <plus> to bookmark in Safari");}else{if(_ate.bro.saf||_ate.bro.chr){alert("Press <"+(_ate.bro.win?"Control":"Command")+">+D to bookmark in "+(_ate.bro.chr?"Chrome":"Safari"));}else{if(_ate.bro.opr){alert("Press <"+(_ate.bro.win?"Control":"Command")+">+D to bookmark in Opera");}else{if(_ate.bro.ffx&&!e.sidebar.addPanel){alert("Press <"+(_ate.bro.win?"Control":"Command")+">+D to bookmark in Firefox");}else{if(document.all){e.external.AddFavorite(m,n);}else{e.sidebar.addPanel(n,m,"");}}}}}break;case"print":new Image().src=_ate.share.genurl(t,0,w,u);e.print();break;case"link":u.ui_pane="link";_ate.ao(h.body,"link","","",u,w);break;default:if(_ate.share.auw(t)){_ate.share.stw(t,w,u);}else{_ate.share.siw(t,w,u);}k.trigger("addthis.menu.share",c,w);}_ate.gat(t,p,u,w);},follow:function(n,m,t,q){var p=e.addthis_config?f.clone(e.addthis_config):{},r=e.addthis_share?f.clone(e.addthis_share):{};p.product=t;p.pubid=p.username=this.options.pubid||e.addthis_pub||p.pubid||"";r.service=n;r.followUrl=_ate.share.gfu(n,m.id);if(n==="twitter"&&!k.mobile()){_ate.share.ftw(n,m.id,r,p);}else{if(q===true){p.ui_use_different_full_window=true;_ate.share.ftw(n,m.id,r,p);}else{_ate.share.track(n,1,r,p);}}},imageResizer:function(t,v,A){var y=this,C=y.options,B=10,x=500,r=0,m=y.container,q=y.element,u=y.noImageClasses,p=y.hasImage,n=C.theme,w=0;k.addClass(d.visibleClass,q);(function z(){var F=-1,E=0,H,G,J,I,D={};if(t&&t.length){k.each(t,function(K,L){y.superMethod("resizeTrendingTitle",L);});}while(++F<v.length){H=v[F];if(k.isUndefined(H.naturalHeight)){G=new Image();G.src=H.src;if(G.height>0){H.naturalHeight=G.height;H.naturalWidth=G.width;}G=null;}if(H.naturalHeight>0&&H.naturalWidth>0&&!H.__imageloaded__){H.__imageloaded__=true;y.resizeTrendingImage(H);E++;}else{if(H.__imageloaded__){E++;}else{if(r===Math.floor(B/2)&&k.has(k.attr(H,"src"),"http:")&&k.has(k.attr(h.location,"href"),"https:")&&k.attr(H,"data-secure")==="true"){k.attr(H,"src","https:"+k.attr(H,"src").replace("http:",""));}else{if(r===Math.floor(B/2)&&k.has(k.attr(H,"src"),"https:")&&k.has(k.attr(h.location,"href"),"https:")&&k.attr(H,"data-secure")==="false"){k.attr(H,"src","http:"+k.attr(H,"src").replace("https:",""));}}}}}r++;if(E<(y.maxitems||1)&&r<B){k.requestTimeout(z,x);}else{if(C.hideBadImages!==false){k.each(v,function(K,L){if(k.isImageBroken(L)){w+=1;}});k.each(v,function(K,L){if(k.isImageBroken(L)){if(y.showPlaceholderImages===false){J=_ate.util.parent(L,".at4-recommended-div-item");if(J!==h&&J!==h.body){J.parentNode.removeChild(J);}if(w>=y.maxitems){k.addClass(d.hideClass,y.container||y.element);}}else{I=_ate.util.parent(L,".at4-recommended-item-img");if(y.hasImage===true&&w<y.maxitems){if(I!==h&&I!==h.body){k.addClass(u[n]||"",I);}D[".at4-recommended-item-placeholder-img"]="";L.parentNode.removeChild(L);I.appendChild(f.json2html(D));}else{if(y.hasImage===true&&w>=y.maxitems){k.addClass(d.hideClass,y.container||y.element);}}}}});}k.removeClass(d.visibleClass,q);if(k.isFunction(A)){k.requestTimeout(function(){A();},100);}}}());return y;},mappedDataAttributes:function(){if(d.mappedDataAttributes.cachedOptions){return d.mappedDataAttributes.cached;}var m={};k.each(d.defaultOptions,function(p,n){k.each(n,function(q,r){m[q.toLowerCase()]=q;});});d.mappedDataAttributes.cached=m;return m;},getShareServices:function(){var m=this,q=m.options,p=m.services,v=q.numPreferredServices?q.numPreferredServices:m.numServices?m.numServices:5,u={more:1,print:1,favorites:1,addthis:1,compact:1},t=1;newServicesList=[];if(!k.isArray(p)||!k.isPlainObject(q)){return;}for(s in p){if(p.hasOwnProperty(s)){var r=p[s],n;if(r==="pinterest"){r="pinterest_share";}if(q.services_exclude[r]!==true&&(_ate.services.exists(r)||u[r]===1||t===v&&m.personalized)){if(r==="more"||r==="addthis"||t===v&&m.personalized){if(q.services_exclude.more!==true){n=_ate._t("More",2).replace("&nbsp;"," ");r="compact";}}else{if(r==="print"){n=_ate._t("Print",22);}else{if(r==="favorites"){n=_ate._t("Favorites",5);}else{if(r==="email"){n=_ate._t("Email",4);}else{n=_ate.services.getName(r);}}}}newServicesList.push({svc:r,name:n});if(t++>=v){break;}}}}return newServicesList;},displayCounts:function(v){var n=this,m,u,r,p,q,t=n.elementSelector;k.each(v,function(w,x){m=x.service;u=x.count;if(k.isString(m)&&m.length&&k.isNumber(u)&&u>0){r=b(t+" .at-svc-"+m+" .at4-share-count")[0];if(k.isElement(r)){p=_ate.util.parent(r,".at4-share-btn");if(p!==h&&p!==h.body&&k.isElement(p)){k.addClass("at4-share-count-anchor",p);}r.appendChild(h.createTextNode(k.truncateCount(u)));}}});q=b(t+" .at4-share-count-container");if(q.length){k.each(q,function(w,x){n.show(x,"fadeIn",function(){k.removeClass("fadeIn",x);});});}},drawerIsVisible:false,parentElement:document.body,pageConfigs:[]};return d;}(g.qwery,g.rAF,g.utils);g.layerFactory=function(d,b,l){var k=d.layerList,j={create:function(H,r,y,q){if(!l.isPlainObject(r)){return;}var n,D=function(){for(var I in r){if(r.hasOwnProperty(I)){this[I]=r[I];}}},F=e.addthis_config||{},u={},x=r.namespace,p=r.basename,z={},C={},t={},w={},E={},v={},A=k[x][p].__numCalls__,m={},B={},G;if(x==="addthis"){l.each(q,function(J,I){if(l.isUndefined(k[x][J])){m[J]=I;}else{B[J]=I;}});}else{l.each(q,function(J,I){if(l.isUndefined(k[x])){m[J]=I;}else{B[J]=I;}});}if(x==="addthis"){u=l.extend(l.extend(l.cloneObject(m),l.cloneObject(d.defaultOptions[p]))||{},l.extend({layers:B},l.cloneObject(y)));}else{u=l.extend(l.extend(l.cloneObject(m),l.cloneObject(d.defaultOptions[x][p]))||{},l.extend({layers:B},l.cloneObject(y)));}if(l.isString(r.inheritsFrom)&&r.inheritsFrom.length){z.names=r.inheritsFrom.split(".");z.namespace=z.names[0];z.basename=z.names[1];if(z.namespace&&z.basename&&l.isPlainObject(k[x][p])){C=l.cloneObject(k[z.namespace][z.basename]);v=l.extend(C,r);w=l.cloneObject(z.namespace==="addthis"?d.defaultOptions[z.basename]:d.defaultOptions[z.namespace][z.basename]);t=l.extend(w,u);}else{if(z.namespace&&!z.basename){C=k.addthis[z.namespace];if(!C){return;}v=k[x][p]=l.extend(l.cloneObject(C),r);w=l.cloneObject(d.defaultOptions[z.namespace]);t=l.extend(w,u);}}D=function(){for(var I in v){if(v.hasOwnProperty(I)){this[I]=v[I];}}};}k[x][p].__numCalls__=l.isUndefined(A)||r.multipleCalls!==true?1:A+1;D.prototype=d;G=new D();G.element=G.element||"#addthis-smartlayers-"+H;if(k[x][p].__numCalls__>1){G.element=G.element+k[x][p].__numCalls__;}G.__numCalls__=k[x][p].__numCalls__;G.elementSelector=G.element;G.name=H;G.mobile=l.mobile();G._super=d;G.inheritedObj=C;if(l.isString(G.parentElement)){G.parentElement=b(G.parentElement)[0];}if(r.inheritsFrom){G.options=t;}else{G.options=u;}G.options.pubid=G.options.altRecommendedPubId||G.options.pubid||e.addthis_pub||F.pubid||"";j.testAgainstRules.call(G);if(l.mobile()&&G.options.mobile===false||l.desktop()&&G.options.desktop===false){l.trigger("addthis.layer.loaded",{layer:G});l.trigger("addthis.layer.rendered",{layer:G});return false;}G.qwery=b;G.utils=l;G.rendered=false;G.device=G.device||"both";if(G.options.elements){if(!b(G.options.elements).length){l.trigger("addthis.layer.loaded",{layer:G});l.trigger("addthis.layer.rendered",{layer:G});return false;}G.isInlineLayer=true;}if(!y.__hideOnHomepage||e.location.pathname!=="/"&&e.location.pathname!==""){G.create();if(G.async===true||l.isFunction(G.prerender)){d.preRender.call(G);}G.render();}l.trigger("addthis.layers."+this.name+".loaded",c,this);l.trigger("addthis.layer.loaded",{layer:G});e.addthis.layers.active_layers=d.active_layers=d.active_layers||{};e.addthis.layers.active_layers[x]=d.active_layers[x]=d.active_layers[x]||{};e.addthis.layers.active_layers[x][p]=d.active_layers[x][p]=G;},testAgainstRules:function(){var n=this,m=n.options;n.rules=function(){var p=m.rules||m.rule;if(l.isArray(p)){return p;}else{if(l.isPlainObject(p)){return[p];}else{return[];}}}();l.decisionEngine.run.call(n,n.rules);n.isMatch=l.isPlainObject(n.matchObject)&&!l.isEmptyObject(n.matchObject)||n.options.alwaysShow===true?true:false;n.options=l.extend(n.options,l.extend(n.options["default"]||{},n.matchObject||{}));}};return j;}(g.common,g.qwery,g.utils);g.setup=function(b,l,d,k){var j=d.layerList;return{addthisWidget:function(n,q){var m=this,p="addthis",r=n;j[p]=j[p]||{};j[p][r]=q;addthis.addEventListener("addthis.layers."+n,function(w){var t=w.target.name,v=l.extend(w.target.props,{namespace:p,basename:r}),u=w.target.options||{},x=w.target.extendedOptions||{};m.createWidget({name:t,props:v,multipleCalls:v.multipleCalls,ops:u,extendedOptions:x,elems:u.elements,namespace:p,basename:r});});return q;},addthisComponent:function(m,n){d.defaultOptions[m]=n.defaultOptions||{};d.desktopLayers[m]=m;d.mobileLayers[m]=m;this.addthisWidget.apply(this,arguments);return n;},thirdPartyWidget:function(m,w){var z=this,u=m.split("."),r=u[0],v=u[1],A=r+"-"+v,x="."+A,y=l.extend({namespace:r,basename:v,fullname:A,eventnamespace:x},w),t,n,p=b("."+y.inlineClass);if(!r){l.warn("You must provide a namespace for your AddThis Smart Layers plugin");return;}else{if(!v){l.warn("You must provide a basename for your AddThis Smart Layers plugin");return;}else{if(!l.isPlainObject(w)){l.warn("You must provide an object to create your AddThis Smart Layers plugin");return;}else{if(r==="addthis"){l.warn("You cannot use the \"addthis\" namespace for your AddThis Smart Layers plugin");return;}else{if(j[r]&&j[r][v]){l.warn("There is already an AddThis Smart Layers plugin with a(n) \""+r+"\" namespace and a(n) \""+v+"\" basename");return;}else{if(j[r]){j[r][v]=y;}else{j[r]={};j[r][v]=y;}d.defaultOptions[r]=d.defaultOptions[r]||{};d.defaultOptions[r][v]=y.options||{};addthis.addEventListener("addthis.layers"+x,function(B){t=B.target.options||{};n=B.target.extendedOptions||{};z.createWidget({name:A,props:y,multipleCalls:y.multipleCalls,ops:t,extendedOptions:n,elems:t.elements,namespace:r,basename:v});});}}}}}if(p.length){var q={};q[r]={};q[r][v]=true;addthis.layers(q);}},createWidget:function(v){var y=v.props,p=v.elems,w=!!(y&&y.inlineClass),n=v.name,t=v.namespace,x=v.basename,r=v.ops,q=v.extendedOptions,z=v.multipleCalls,m;p=function(){if(p){return p;}else{if(w){return"."+y.inlineClass;}}}();if(l.isString(p)){m=b(p);}if(l.isUndefined(p)||m.length===0){k.create(n,y,r,q);}else{if(m.length===1){u(m[0],r);}else{if(m.length>1){if(z!==true){if(l.isUndefined(j[t][x].__numCalls__)){u(m[0],r);}}else{if(z===true){if(l.isArray(m)){l.each(m,function(B,A){u(A,r);});}}}}}}function u(D,B){var C={};if(l.isElement(D)){y.parentElement=D;}if(w){var E=l.filter(D.attributes,function(F){return/^data-/.test(F.name);},D.attributes),A=l.mobile()?"mobile":"desktop";C=function(){if(!l.isEmptyObject(B)){return B;}var H={},G,F;l.each(E,function(I,J){G=function(){var K=(J.name||"").replace("data-","");K=d.mappedDataAttributes()[K]?d.mappedDataAttributes()[K]:K;return K;}();F=function(){var K=J.value;if(K==="false"){return false;}else{if(K==="true"){return true;}else{if(l.isNumeric(K)){return Number(K);}else{return K;}}}}();H[G]=F;});return H;}();if(n==="recommendedbox"){if(l.hasClass("addthis-recommendedbox-horizontal",D)){C.orientation="horizontal";}else{if(l.hasClass("addthis-recommendedbox-vertical",D)){C.orientation="vertical";}}}if(A==="desktop"&&C.desktop===false){return;}else{if(A==="mobile"&&C.mobile===false){return;}}}C=(l.isEmptyObject(C)?B:C)||B;k.create(n,y,C,q);}}};}(g.qwery,g.utils,g.common,g.layerFactory);g.iscroll=function(){var z=Math,k=function(m){return m>>0;},D=/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":"opera"in window?"O":"",E=/android/gi.test(navigator.appVersion),r=/iphone|ipad/gi.test(navigator.appVersion),j=/playbook/gi.test(navigator.appVersion),w=/hp-tablet/gi.test(navigator.appVersion),u="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix(),C="ontouchstart"in window&&!w,n=D+"Transform"in document.documentElement.style,p=r||j,x=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(m){return setTimeout(m,17);};}(),v=function(){return window.cancelRequestAnimationFrame||window.webkitCancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.oCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout;}(),q="onorientationchange"in window?"orientationchange":"resize",d=C?"touchstart":"mousedown",y=C?"touchmove":"mousemove",l=C?"touchend":"mouseup",B=C?"touchcancel":"mouseup",b="translate"+(u?"3d(":"("),t=u?",0)":")",A=function(G,m){var H=this,I=document,F;H.wrapper=typeof G=="object"?G:I.getElementById(G);H.wrapper.style.overflow="hidden";H.scroller=H.wrapper.children[0];H.options={hScroll:true,vScroll:true,x:0,y:0,bounce:true,bounceLock:false,momentum:true,lockDirection:true,useTransform:true,useTransition:false,onRefresh:null,onBeforeScrollStart:function(J){J.preventDefault();},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(F in m){H.options[F]=m[F];}H.x=H.options.x;H.y=H.options.y;H.options.useTransform=n?H.options.useTransform:false;H.options.hScrollbar=H.options.hScroll&&H.options.hScrollbar;H.options.vScrollbar=H.options.vScroll&&H.options.vScrollbar;H.options.useTransition=p&&H.options.useTransition;H.scroller.style[D+"TransitionProperty"]=H.options.useTransform?"-"+D.toLowerCase()+"-transform":"top left";H.scroller.style[D+"TransitionDuration"]="0";H.scroller.style[D+"TransformOrigin"]="0 0";if(H.options.useTransition){H.scroller.style[D+"TransitionTimingFunction"]="cubic-bezier(0.33,0.66,0.66,1)";}if(H.options.useTransform){H.scroller.style[D+"Transform"]=b+H.x+"px,"+H.y+"px"+t;}else{H.scroller.style.cssText+=";position:absolute;top:"+H.y+"px;left:"+H.x+"px";}H.refresh();H._bind(q,window);H._bind(d);if(!C){H._bind("mouseout",H.wrapper);}};A.prototype={enabled:true,x:0,y:0,steps:[],scale:1,handleEvent:function(F){var m=this;switch(F.type){case d:if(!C&&F.button!==0){return;}m._start(F);break;case y:m._move(F);break;case l:case B:m._end(F);break;case q:m._resize();break;case"mouseout":m._mouseout(F);break;case"webkitTransitionEnd":m._transitionEnd(F);break;}},_resize:function(){this.refresh();},_pos:function(m,F){m=this.hScroll?m:0;F=this.vScroll?F:0;if(this.options.useTransform){this.scroller.style[D+"Transform"]=b+m+"px,"+F+"px"+t+" scale("+this.scale+")";}else{m=k(m);F=k(F);this.scroller.style.left=m+"px";this.scroller.style.top=F+"px";}this.x=m;this.y=F;},_start:function(I){var H=this,F=C?I.touches[0]:I,G,m,J;if(!H.enabled){return;}if(H.options.onBeforeScrollStart){H.options.onBeforeScrollStart.call(H,I);}if(H.options.useTransition){H._transitionTime(0);}H.moved=false;H.animating=false;H.zoomed=false;H.distX=0;H.distY=0;H.absDistX=0;H.absDistY=0;H.dirX=0;H.dirY=0;if(H.options.momentum){if(H.options.useTransform){G=getComputedStyle(H.scroller,null)[D+"Transform"].replace(/[^0-9-.,]/g,"").split(",");m=G[4]*1;J=G[5]*1;}else{m=getComputedStyle(H.scroller,null).left.replace(/[^0-9-]/g,"")*1;J=getComputedStyle(H.scroller,null).top.replace(/[^0-9-]/g,"")*1;}if(m!=H.x||J!=H.y){if(H.options.useTransition){H._unbind("webkitTransitionEnd");}else{v(H.aniTime);}H.steps=[];H._pos(m,J);}}H.startX=H.x;H.startY=H.y;H.pointX=F.pageX;H.pointY=F.pageY;H.startTime=I.timeStamp||Date.now();if(H.options.onScrollStart){H.options.onScrollStart.call(H,I);}H._bind(y);H._bind(l);H._bind(B);},_move:function(K){var H=this,F=C?K.touches[0]:K,G=F.pageX-H.pointX,m=F.pageY-H.pointY,L=H.x+G,J=H.y+m,I=K.timeStamp||Date.now();if(H.options.onBeforeScrollMove){H.options.onBeforeScrollMove.call(H,K);}H.pointX=F.pageX;H.pointY=F.pageY;if(L>0||L<H.maxScrollX){L=H.options.bounce?H.x+G/2:L>=0||H.maxScrollX>=0?0:H.maxScrollX;}if(J>0||J<H.maxScrollY){J=H.options.bounce?H.y+m/2:J>=0||H.maxScrollY>=0?0:H.maxScrollY;}H.distX+=G;H.distY+=m;H.absDistX=z.abs(H.distX);H.absDistY=z.abs(H.distY);if(H.absDistX<6&&H.absDistY<6){return;}if(H.options.lockDirection){if(H.absDistX>H.absDistY+5){J=H.y;m=0;}else{if(H.absDistY>H.absDistX+5){L=H.x;G=0;}}}H.moved=true;H._pos(L,J);H.dirX=G>0?-1:G<0?1:0;H.dirY=m>0?-1:m<0?1:0;if(I-H.startTime>300){H.startTime=I;H.startX=H.x;H.startY=H.y;}if(H.options.onScrollMove){H.options.onScrollMove.call(H,K);}},_end:function(K){if(C&&K.touches.length!=0){return;}var I=this,O=C?K.changedTouches[0]:K,L,N,G={dist:0,time:0},m={dist:0,time:0},H=(K.timeStamp||Date.now())-I.startTime,M=I.x,J=I.y,F;I._unbind(y);I._unbind(l);I._unbind(B);if(I.options.onBeforeScrollEnd){I.options.onBeforeScrollEnd.call(I,K);}if(!I.moved){if(C){L=O.target;while(L.nodeType!=1){L=L.parentNode;}if(L.tagName!="SELECT"&&L.tagName!="INPUT"&&L.tagName!="TEXTAREA"){N=document.createEvent("MouseEvents");N.initMouseEvent("click",true,true,K.view,1,O.screenX,O.screenY,O.clientX,O.clientY,K.ctrlKey,K.altKey,K.shiftKey,K.metaKey,0,null);N._fake=true;L.dispatchEvent(N);}}I._resetPos(200);if(I.options.onTouchEnd){I.options.onTouchEnd.call(I,K);}return;}if(H<300&&I.options.momentum){G=M?I._momentum(M-I.startX,H,-I.x,I.scrollerW-I.wrapperW+I.x,I.options.bounce?I.wrapperW:0):G;m=J?I._momentum(J-I.startY,H,-I.y,I.maxScrollY<0?I.scrollerH-I.wrapperH+I.y:0,I.options.bounce?I.wrapperH:0):m;M=I.x+G.dist;J=I.y+m.dist;if(I.x>0&&M>0||I.x<I.maxScrollX&&M<I.maxScrollX){G={dist:0,time:0};}if(I.y>0&&J>0||I.y<I.maxScrollY&&J<I.maxScrollY){m={dist:0,time:0};}}if(G.dist||m.dist){F=z.max(z.max(G.time,m.time),10);I.scrollTo(k(M),k(J),F);if(I.options.onTouchEnd){I.options.onTouchEnd.call(I,K);}return;}I._resetPos(200);if(I.options.onTouchEnd){I.options.onTouchEnd.call(I,K);}},_resetPos:function(G){var m=this,H=m.x>=0?0:m.x<m.maxScrollX?m.maxScrollX:m.x,F=m.y>=0||m.maxScrollY>0?0:m.y<m.maxScrollY?m.maxScrollY:m.y;if(H==m.x&&F==m.y){if(m.moved){if(m.options.onScrollEnd){m.options.onScrollEnd.call(m);}m.moved=false;}return;}m.scrollTo(H,F,G||0);},_mouseout:function(F){var m=F.relatedTarget;if(!m){this._end(F);return;}while(m=m.parentNode){if(m==this.wrapper){return;}}this._end(F);},_transitionEnd:function(F){var m=this;if(F.target!=m.scroller){return;}m._unbind("webkitTransitionEnd");m._startAni();},_startAni:function(){var K=this,F=K.x,m=K.y,I=Date.now(),J,H,G;if(K.animating){return;}if(!K.steps.length){K._resetPos(400);return;}J=K.steps.shift();if(J.x==F&&J.y==m){J.time=0;}K.animating=true;K.moved=true;if(K.options.useTransition){K._transitionTime(J.time);K._pos(J.x,J.y);K.animating=false;if(J.time){K._bind("webkitTransitionEnd");}else{K._resetPos(0);}return;}G=function(){var L=Date.now(),N,M;if(L>=I+J.time){K._pos(J.x,J.y);K.animating=false;if(K.options.onAnimationEnd){K.options.onAnimationEnd.call(K);}K._startAni();return;}L=(L-I)/J.time-1;H=z.sqrt(1-L*L);N=(J.x-F)*H+F;M=(J.y-m)*H+m;K._pos(N,M);if(K.animating){K.aniTime=x(G);}};G();},_transitionTime:function(m){this.scroller.style[D+"TransitionDuration"]=m+"ms";},_momentum:function(L,F,J,m,N){var K=0.0006,G=z.abs(L)/F,H=G*G/(2*K),M=0,I=0;if(L>0&&H>J){I=N/(6/(H/G*K));J=J+I;G=G*J/H;H=J;}else{if(L<0&&H>m){I=N/(6/(H/G*K));m=m+I;G=G*m/H;H=m;}}H=H*(L<0?-1:1);M=G/K;return{dist:H,time:k(M)};},_offset:function(m){var G=-m.offsetLeft,F=-m.offsetTop;while(m=m.offsetParent){G-=m.offsetLeft;F-=m.offsetTop;}return{left:G,top:F};},_bind:function(G,F,m){(F||this.scroller).addEventListener(G,this,!!m);},_unbind:function(G,F,m){(F||this.scroller).removeEventListener(G,this,!!m);},destroy:function(){var m=this;m.scroller.style[D+"Transform"]="";m._unbind(q,window);m._unbind(d);m._unbind(y);m._unbind(l);m._unbind(B);m._unbind("mouseout",m.wrapper);if(m.options.useTransition){m._unbind("webkitTransitionEnd");}if(m.options.onDestroy){m.options.onDestroy.call(m);}},refresh:function(){var m=this,F;m.wrapperW=m.wrapper.clientWidth;m.wrapperH=m.wrapper.clientHeight;m.scrollerW=m.scroller.offsetWidth;m.scrollerH=m.scroller.offsetHeight;m.maxScrollX=m.wrapperW-m.scrollerW;m.maxScrollY=m.wrapperH-m.scrollerH;m.dirX=0;m.dirY=0;m.hScroll=m.options.hScroll&&m.maxScrollX<0;m.vScroll=m.options.vScroll&&(!m.options.bounceLock&&!m.hScroll||m.scrollerH>m.wrapperH);F=m._offset(m.wrapper);m.wrapperOffsetLeft=-F.left;m.wrapperOffsetTop=-F.top;m.scroller.style[D+"TransitionDuration"]="0";m._resetPos(200);},scrollTo:function(m,L,K,J){var I=this,H=m,G,F;I.stop();if(!H.length){H=[{x:m,y:L,time:K,relative:J}];}for(G=0,F=H.length;G<F;G++){if(H[G].relative){H[G].x=I.x-H[G].x;H[G].y=I.y-H[G].y;}I.steps.push({x:H[G].x,y:H[G].y,time:H[G].time||0});}I._startAni();},scrollToElement:function(m,G){var F=this,H;m=m.nodeType?m:F.scroller.querySelector(m);if(!m){return;}H=F._offset(m);H.left+=F.wrapperOffsetLeft;H.top+=F.wrapperOffsetTop;H.left=H.left>0?0:H.left<F.maxScrollX?F.maxScrollX:H.left;H.top=H.top>0?0:H.top<F.maxScrollY?F.maxScrollY:H.top;G=G===i?z.max(z.abs(H.left)*2,z.abs(H.top)*2):G;F.scrollTo(H.left,H.top,G);},disable:function(){this.stop();this._resetPos(0);this.enabled=false;this._unbind(y);this._unbind(l);this._unbind(B);},enable:function(){this.enabled=true;},stop:function(){v(this.aniTime);this.steps=[];this.moved=false;this.animating=false;}};return A;}();g.mobile=function(k,b,j,l,d){return b.addthisWidget("mobile",{create:function(){var u=this,w=u.basename,m=this["options"]||{},n=m.layers.share||{},x=w==="mobile"?n.services:m.shareServices,t,p,z,y,q,v=function(){if(e.addthis_config&&k.isPlainObject(e.addthis_config)){return e.addthis_config.services_exclude||"";}return"";}(),r={};this.initialize();this.position=t=m.buttonBarPosition&&m.buttonBarPosition.toLowerCase()==="top"?"top":"bottom";z=t==="top"?"slideInDown":"slideInUp";q=t==="top"?"slideOutUp":"slideOutDown";u.options=k.extend(m,{menuShowAnimation:z,menuHideAnimation:q,buttonBarTheme:m.buttonBarTheme==="transparent"?"light":m.buttonBarTheme});u.positionClass=u.position==="top"?".at4m-dock-top":".at4m-dock-bottom";if(x){this.personalized=false;this.services=x.replace(/ /g,"").split(",").concat(u.preferredServices);}else{this.services=u.preferredServices;}if(typeof v==="string"){v=v.split(",");k.each(v,function(B,A){A=k.trim(A);r[A]=true;});m.services_exclude=r;}return u;},initialize:function(){var p=this,r,m=e.history.replaceState,q=e.history.pushState;if(p.mobile&&m&&q){this.history={};this.history.getState=function(){if(e.history.state){return e.history.state;}else{return e.sessionStorage&&(r=e.sessionStorage.getItem("history.state"))&&JSON.parse(r)||null;}};this.history.pushState=function(u,w,t){q.call(e.history,u,w,t);try{e.sessionStorage.setItem("history.state",JSON.stringify(u));e.sessionStorage.setItem("history.state:title",w);e.sessionStorage.setItem("history.state:href",t);}catch(v){}};this.history.replaceState=function(u,w,t){m.call(e.history,u,w,t);try{e.sessionStorage.setItem("history.state",JSON.stringify(u));e.sessionStorage.setItem("history.state:title",w);e.sessionStorage.setItem("history.state:href",t);}catch(v){}};this.history.replaceState({menu:false,opening:false},document.title,e.location.href);}else{this.history={};}function n(t){if(!this.mobile){return;}this.history.replaceState(t.state,h.title,e.location.href);if(t.state&&t.state.menu===false&&t.state.opening===true){k.trigger("addthis.layers.mobilemenu.hide",c,this);}else{if(t.state&&t.state.menu===false&&t.state.empty===true){e.history.go(-1);}}if(t.state&&t.state.menu){switch(t.state.menu){case"share":p.events["#at4m-sb click"].call(p,t);break;case"follow":p.events["#at4m-fb click"].call(p,t);break;}}}this.popStateEventHandler=n;},pco:"smlmo-1.0",device:"mobile",element:"#at4m-mobile-container",dock:"#at4m-dock",dockToggle:"#at4m-dock-toggle",menu:"#at4m-menu",menuHeader:"#at4m-menu-head",menuCloseControl:"#at4m-mcc",menuBody:"#at4m-services",innerMenuBody:"#at4m-menu-body",searchBox:"#at4-searchBox",searchClear:"#at4-searchClear",position:"bottom",positionClass:"",services:[],servicesInMenu:{},personlized:false,dockClosed:false,atScroll:false,isScrolling:false,isLoading:false,serviceListPos:0,isSearching:false,mobileBlacklist:{link:true},finalize:function(){this.element=d(this.element)[0];this.dock=d(this.dock)[0];this.dockToggle=d(this.dockToggle)[0];this.menu=d(this.menu)[0];this.menuHeader=d(this.menuHeader)[0];this.menuCloseControl=d(this.closeControl)[0];this.menuBody=d(this.menuBody)[0];this.searchBox=d(this.searchBox)[0];this.searchClear=d(this.searchClear)[0];this.innerMenuBody=d(this.innerMenuBody)[0];k.trigger("addthis.layer.rendered",{layer:this.name});return this;},events:{"!window popstate":function(n,m){this.popStateEventHandler(n);},"#at4m-fb click":function(q,n){k.preventDefaultEvent(q);var m=this,p=this.history.getState&&this.history.getState();this.currentLayerType="follow";this.menuHeader.innerHTML=_ate._t("Follow",96);this.superMethod("hideControl",this.searchBox.parentNode);if(p===null||p&&p.menu===false){if(this.history.replaceState){this.history.replaceState({menu:false,opening:true},h.title,e.location.href);}if(this.history.pushState){this.history.pushState({menu:"follow"},h.title,e.location.href);}}else{if(this.history.replaceState){this.history.replaceState({menu:"follow"},h.title,e.location.href);}}this.resetZoom();this.generateFollowServices();this.show(this.menu,this["options"].menuShowAnimation,function(){m.hideDesktopScrollbar();});},"#at4m-sb click":j.commonEventHandlers.mobile.showExpandedShareMenu,"#at4m-mcc click":function(n,m){k.preventDefaultEvent(n);k.trigger("addthis.layers.mobilemenu.hide",c,this);},"#at4m-dock-toggle click":function(n,m){k.preventDefaultEvent(n);if(this.dockClosed){k.trigger("addthis.layers.dock.show",c,this);}else{k.trigger("addthis.layers.dock.hide",c,this);}},"addthis.layers.dock.show":function(){this.show(this.dock,this["options"].showAnimation,function(){this.dockClosed=false;});k.removeClass("at4-dock-toggle-active",this.dockToggle);},"addthis.layers.dock.hide":function(){k.addClass("at4-dock-toggle-active",this.dockToggle);this.hide(this.dock,this["options"].hideAnimation,function(){this.dockClosed=true;});},"addthis.layers.mobilemenu.hide":j.commonEventHandlers.mobile.hideExpandedShareMenu,"addthis.layers.loaded":k.once(function(){var t=this.basename,n=j.active_layers.addthis,r=n.share||{},u=n.follow||{},y,q,v,w,m,x,p;k.bindEvents.call(this,{"!input[type=\"text\"],textarea,select focus":function(A,z){if(k.mobile()&&k.hasClass("addthis-smartlayers",this.container)){if(!this.container.contains(z)){k.addClass(j.hideClass,this.container);}}},"!input[type=\"text\"],textarea,select blur":function(A,z){if(k.mobile()&&k.hasClass("addthis-smartlayers",this.container)){if(!this.container.contains(z)){k.removeClass(j.hideClass,this.element);}}}});if(!k.mobile()){q=r.options||{};w=q.responsive;v=u.options||{};x=v.responsive;if(t==="mobile"&&(w||x)){if(x){k.bindEvents.call(this,{"addthis.layers.responsive.follow.show":function(){if(!w){k.addClass(j.hideClass,this.element);}else{m=k.getCurrentDevice(r);if(m==="mobile"){k.addClass(j.hideClass,this.followButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}else{k.addClass(j.hideClass,this.element);}}if(!this.mobile&&k.isVisible(this.menu)){k.trigger("addthis.layers.mobilemenu.hide");}},"addthis.layers.responsive.follow.hide":function(){if(!w){k.removeClass(j.hideClass,this.followButton);k.removeClass(j.hideClass,this.element);}else{m=k.getCurrentDevice(r);if(m==="mobile"){k.removeClass(j.hideClass,this.followButton);k.removeClass("at4-ma1",this.dock);k.addClass("at4-ma2",this.dock);}else{k.removeClass(j.hideClass,this.followButton);k.addClass(j.hideClass,this.shareButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}k.removeClass(j.hideClass,this.element);}}});p=k.getCurrentDevice(u);if(p==="mobile"){k.trigger("addthis.layers.responsive.follow.hide");}}if(w){k.bindEvents.call(this,{"addthis.layers.responsive.share.show":function(){if(!x){k.addClass(j.hideClass,this.element);}else{p=k.getCurrentDevice(u);if(p==="mobile"){k.addClass(j.hideClass,this.shareButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}else{k.addClass(j.hideClass,this.element);}}if(!this.mobile&&k.isVisible(this.menu)){k.trigger("addthis.layers.mobilemenu.hide");}},"addthis.layers.responsive.share.hide":function(){if(!x){k.removeClass(j.hideClass,this.shareButton);k.removeClass(j.hideClass,this.element);}else{p=k.getCurrentDevice(u);if(p==="mobile"){k.removeClass(j.hideClass,this.shareButton);k.removeClass("at4-ma1",this.dock);k.addClass("at4-ma2",this.dock);}else{k.removeClass(j.hideClass,this.shareButton);k.addClass(j.hideClass,this.followButton);k.addClass("at4-ma1",this.dock);k.removeClass("at4-ma2",this.dock);}k.removeClass(j.hideClass,this.element);}}});m=k.getCurrentDevice(r);if(m==="mobile"){k.trigger("addthis.layers.responsive.share.hide");}}}}}),"addthis.keydown.esc":function(){if(!this.mobile&&k.isVisible(this.menu)){k.trigger("addthis.layers.mobilemenu.hide");}},".at4m-fwc click":function(r,q){k.trigger("addthis.layers.mobilemenu.hide");var p=k.attr(q,"svc"),t=k.attr(q,"svcId"),n=this.superMethod("pco"),m={service:p,id:t,pco:n};this.superMethod("follow",p,m,n);},".at4m-shc click":function(q,n){var m=n.getAttribute("svc"),p=e.addthis_share?f.clone(e.addthis_share):{};p.service=m;k.trigger("addthis.layers.mobilemenu.hide");k.trigger("addthis.menu.share",c,p);},"!#at4m-services click":function(n,m){k.trigger("addthis.layers.mobilemenu.hide");},"#at4-searchBox keyup":k.debounce(function(t,q){if(this.searchBox.value!==""){this.superMethod("showControl",this.searchClear);this.isSearching=true;}else{this.superMethod("hideControl",this.searchClear);this.generateShareServices();return;}var n=this.searchBox.value.toLowerCase(),r=[],v=this.atScroll,p,u;this.servicesInMenu={};for(p in _ate.services.map){u=_ate.services.getName(p);if(n===""){r[p]=u;}else{if(k.has(p.toLowerCase(),n)||k.has(u.toLowerCase(),n)){r.push(p);}}}this.menuBody.innerHTML="";for(p in r){if(r.hasOwnProperty(p)){if(this.options.services_exclude[r[p]]!==true){var m=this.generateShareButtonJson(r[p]);if(m){this.menuBody.appendChild(f.json2html(m));}}}}if(this.mobile){v.refresh();}},500),"#at4-searchClear click":function(n,m){k.preventDefaultEvent(n);this.searchBox.value="";this.generateShareServices();this.superMethod("hideControl",this.searchClear);},"addthis.layers.mobilesharemenu.show":j.commonEventHandlers.mobile.showExpandedShareMenu,"addthis.layers.mobilesharemenu.hide":j.commonEventHandlers.mobile.hideExpandedShareMenu},postEvents:function(){var m=this;if(!m.mobile){k.bindEvents.call(this,{"!#at4m-menu-body scroll":k.debounce(function(p,n){m.checkAndAddMoreServices();},200)});}m.shareButton=d("#at4m-sb")[0];m.followButton=d("#at4m-fb")[0];},hideDesktopScrollbar:function(){if(!this.mobile){k.addClass("at4m-scroll-overflow",this.innerMenuBody);k.addClass("at4m-hidden-overflow",a);}},showDesktopScrollbar:function(){if(!this.mobile){k.removeClass("at4m-scroll-overflow",this.innerMenuBody);k.removeClass("at4m-hidden-overflow",a);}},generateJson:function(){var w={},x=[],t={},r={},E=this,q=E.basename,D=E.options||{},z=(q==="mobile"?D.layers.follow:D)||{},F=(q==="mobile"?D.layers.share:D)||{},C=this.themes[D.buttonBarTheme]?this.themes[D.buttonBarTheme]:D.theme?this.themes[D.theme]:"",y={},A={},p={},B={},m=e.location.pathname==="/"||e.location.pathname==="",n=z.__hideOnHomepage&&m,u=F.__hideOnHomepage&&m,v=q==="mobile"?z.services:D.followServices;if(D.follow!==false&&D.follow!=="off"&&v&&v.length&&(E.mobile&&z.mobile===false?false:true)&&(!E.mobile&&z.responsive===false?false:true)&&!n){A["a#at4m-fb"]={"i.at4m-dock-follow":{},href:"#",html:_ate._t("Follow",96)};x.push(A);}if(D.share!==false&&D.share!=="off"&&(q!=="mobile"||q==="mobile"&&E.enabledLayers.share)&&(E.mobile&&F.mobile===false?false:true)&&(!E.mobile&&F.responsive===false?false:true)&&!u){y["a#at4m-sb"]={"i.at4m-dock-share":{},href:"#",html:_ate._t("Share",91)};x.push(y);}if(x.length){w["div#at4m-dock.at4m-dock"+this.positionClass+C+".at4-ma"+x.length]=x;B["a#at4m-dock-toggle"]={html:"Toggle Dock",href:"#"};t["div.at4m-dock-toggle"+this.positionClass+C]=B;r["div#at4m-menu.at4m-menu"+C]={"div.at4m-menu-inner":[{"div.at4m-menu-header":{"div.at4m-menu-header-inner":{"div#at4m-menu-head":_ate._t("Share",91),"a#at4m-mcc.at4m-menu-cancel":{href:"#",html:"Close"}}}},{"div#at4m-menu-body":{"div#scroller":[{"div.at4m-menu-search":[{input:{type:"text",placeholder:_ate._t("Find a service",35),id:"at4-searchBox"}},{input:{type:"submit"}},{"input.at4-hide":{type:"cancel",id:"at4-searchClear"}}]},{"div.at4m-menu-content":{"ul#at4m-services.addthis_32x32_style":{}}}]}},{"div.at4m-menu-footer":{"div.at4m-menu-footer-inner":[{"a.at4m-menu-footer-logo":{href:"//www.addthis.com/?utm_source=dynmex&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis"}},{"a.at4m-menu-footer-privacy":{href:"//www.addthis.com/privacy/privacy-policy",target:"_blank",html:_ate._t("Privacy",24)}}]}}]};p["div#at4m-mobile-container"+(E.showDock===false?" .at-expandedmenu-component":"")]=[w,t,r];return p;}else{return false;}},generateFollowServices:function(){if(this.atScroll){this.atScroll.destroy();this.atScroll=null;}this.menuBody.innerHTML="";var p=this.basename,m=p==="mobile"?this.options.layers.follow.services:this.options.followServices,n=this;k.each(m,function(y,B){var w=B||{},z=w.service,t=w.id,q=w.usertype,x=_ate.share.gfu(z,t,q),r=n.followServices[z],v,u={},A={};A["span.at4-icon-fw.aticon-"+z]="";u={"li.at4m-listitem":{"a.at4m-fwc":{href:x,target:"_blank",svc:z,svcId:t,title:r,div:[A,{"span.at4-label.atservice":r},{"span.at4-arrow":"&gt;"}]}}};v=n.menuBody.appendChild(f.json2html(u));if(z==="twitter"){v.children[0].conf={follow:true};}});this.initializeIscroll("follow");},generateShareServices:function(){var n=this,m;if(this.atScroll){this.atScroll.destroy();this.atScroll=null;}this.servicesInMenu={};this.serviceListPos=0;this.isSearching=false;this.searchBox.value="";this.menuBody.innerHTML="";if(!this.services){this.services=[];}for(m in _ate.services.map){if(n.services.length===30){break;}if(n.options.services_exclude[m]!==true){n.services.push(m);}}k.each(this.services,function(r,p){if(n.options.services_exclude[p]!==true){var q=n.generateShareButtonJson(p);if(q){n.menuBody.appendChild(f.json2html(q));}}});this.initializeIscroll("share");},checkAndAddMoreServices:function(){var v=this,u=this.atScroll,n=0,p=this.serviceListPos,r=20,w,t,m;if(v.mobile){if(!this.isSearching&&Math.abs(u.y)>Math.abs(u.maxScrollY)*0.5&&!this.isLoading){this.isLoading=true;q();u.refresh();this.isLoading=false;}}else{w=this.innerMenuBody.scrollHeight,t=this.innerMenuBody.offsetHeight,m=this.innerMenuBody.scrollTop;if(!this.isSearching&&w-t-m<=150&&!this.isLoading&&this.currentLayerType==="share"){this.isLoading=true;q();this.isLoading=false;}}function q(){for(var y in _ate.services.map){if(v.options.services_exclude[y]!==true){if(n>p){var x=v.generateShareButtonJson(y);if(x){v.menuBody.appendChild(f.json2html(x));}if(n===p+r){break;}}n++;}}v.serviceListPos=n;}},generateShareButtonJson:function(r){var m={},p={},q=e.addthis_config?f.clone(e.addthis_config):{},u=e.addthis_share?f.clone(e.addthis_share):{},t=_ate.share.genurl(r,0,u,q),n;if(r==="email"){t=_ate.share.genieu(u,q,0);}if(_ate.services.exists(r)&&!this.servicesInMenu[r]&&!this.serviceBlacklist[r]&&!this.mobileBlacklist[r]){p["span.at4-icon.aticon-"+r]="";n=_ate.services.getName(r);m={"li.at4m-listitem":{"a.at4m-shc":{href:t,target:"_blank",svc:r,title:n,div:[p,{"span.at4-label.atservice":n},{"span.at4-arrow":"&gt;"}]}}};this.servicesInMenu[r]=true;return m;}else{return false;}},initializeIscroll:function(m){if(!this.mobile){return;}var n=this;n.atScroll=new l("at4m-menu-body",{onScrollEnd:function(){k.requestTimeout(function(){n.isScrolling=false;},300);},onScrollMove:k.debounce(function(){k.specialEvents.blur(n.searchBox);n.isScrolling=true;if(m==="share"){n.checkAndAddMoreServices();}},100),onBeforeScrollStart:function(q){q=q||e.event;var p=q.target||q.srcElement;while(p.nodeType!=1){p=p.parentNode;}if(p.tagName!=="INPUT"){k.preventDefaultEvent(q);}else{if(p.getAttribute("type")==="text"){p.focus();}}},checkDOMChanges:false});},resetZoom:function(){function n(){var q=2,v,x,u,r,t,w=document.createElement("p");document.body.appendChild(w);w.innerHTML="1234567890";k.setCSSAttr(w,{position:"fixed",fontSize:"14px",zoom:2});x=w.clientHeight;u=w.clientWidth;r=w.clientHeight;t=w.clientWidth;document.body.removeChild(w);v=Math.ceil(r/x);return v!==q;}var m={zoomFont:n(),innerClient:window.innerWidth===document.documentElement.clientWidth,outerScroll:window.outerWidth===document.documentElement.scrollWidth,innerOuterDevicePixelRatio:window.outerWidth/window.innerWidth===window.devicePixelRatio,innerScreen:window.innerWidth===screen.width,screenClient:screen.width===document.documentElement.clientWidth,innerWidth:window.innerWidth,outerWidth:window.outerWidth,scrollWidth:document.documentElement.scrollWidth,devicePixelRatio:window.devicePixelRatio,width:screen.width,availWidth:screen.availWidth,offsetWidth:document.documentElement.offsetWidth};if(!this.mobile){return function(){};}else{return function(){var t,p=m;switch(true){case p.innerClient&&p.outerScroll&&p.innerScreen&&p.screenClient&&!p.innerOuterDevicePixelRatio&&p.devicePixelRatio===2:p.iphone=true;p.retina=true;t=1;break;case p.innerClient&&p.outerScroll&&p.innerScreen&&p.screenClient&&!p.innerOuterDevicePixelRatio:p.iphone=true;t=1;break;case p.innerClient&&p.innerScreen&&p.screenClient&&p.innerOuterDevicePixelRatio&&!p.outerScroll:p.iphone=false;t=p.devicePixelRatio;break;case p.innerClient&&p.innerOuterDevicePixelRatio&&!p.outerScroll&&!p.innerScreen&&!p.screenClient:p.retina=true;t=p.devicePixelRatio;break;default:t=1;break;}this.menu.zoom=null;var r=window.innerWidth===screen.width?1:1*window.innerWidth/screen.width*t,q=k.getCssAttr(this.menu,"font-size"),u=+q.replace(/([0-9\.]+).*/,"$1");k.setCSSAttr(this.menu,{zoom:r,fontSize:null,width:null});if(p.zoomFont){k.setCSSAttr(this.menu,"fontSize",q.replace(/[0-9]+(.*)/,u*r+"$1"));}k.setCSSAttr(this.menu,"width",window.innerWidth/r+"px");};}}});}(g.utils,g.setup,g.common,g.iscroll,g.qwery);g.dock=function(k,b,j,l,d){return b.addthisWidget("dock",{inheritsFrom:"mobile"});}(g.utils,g.setup,g.common,g.iscroll,g.qwery,g.mobile);g.recommended=function(k,b,j,d){return b.addthisWidget("recommended",{pco:"smlre-1.0",element:"#at4-recommended",device:"both",async:true,requiresData:true,status:"open",events:{"#at-privacy click":function(l){k.preventDefaultEvent(l);console.log("privacy click");this.privacy();}},prerender:function(){var l={};l["#at4-"+this.basename+"-outer-container.at4-"+this.basename+"-outer-container"]="";return f.json2html(l);},render:function(){this.queueTrending(this.options.pubid,this.options.domain,function(){this.superMethod("render");});return this;},generateJson:function(){if(this.name==="recommendedbox"&&k.isElement(this.parentElement.parentNode)&&this.parentElement.parentNode.__containsRecommended__===true){return;}else{if(this.name==="recommendedbox"){if(k.isElement(this.parentElement.parentNode)){this.parentElement.parentNode.__containsRecommended__=true;}}}var z=this,q=z.options,K=q.title||"",w=q.promotedUrls?q.promotedUrls[0]:false,J=w?k.isPlainObject(w)&&w._atType===1:false,I=q.promotedUrls,y=q.size==="medium"?".at-medium":"",t=this.inlineClass?".at-inline":"",x=z.maxitems=function(){var O=q.maxitems,T,S,Q,N,P,M={},R;if(k.isString(O)){if(q.orientation==="vertical"){S=z.parentElement.offsetHeight;if(S<3){return 4;}M[".temp-elem.at4-recommended"+y+t]={".at4-recommended-container.at4-recommended-vertical":{".at4-recommended-item":""}};R=f.json2html(M);a.appendChild(R);N=d(".temp-elem.at4-recommended"+y+t+" .at4-recommended-vertical .at4-recommended-item")[0];P=N.offsetHeight;R.parentElement.removeChild(R);if(k.isElement(R)&&k.isElement(R.parentNode)){R.parentNode.removeChild(R);}if(S<P){return 4;}else{return Math.floor(S/P);}}else{T=z.parentElement.offsetWidth;M[".temp-elem.at4-recommended"+y+t]={".at4-recommended-container.at4-recommended-horizontal":{".at4-recommended-item":""}};R=f.json2html(M);a.appendChild(R);N=d(".temp-elem.at4-recommended"+y+t+" .at4-recommended-horizontal .at4-recommended-item")[0];Q=N.offsetWidth;if(k.isElement(R)&&k.isElement(R.parentNode)){R.parentNode.removeChild(R);}if(T<Q){return 4;}else{return Math.floor(T/Q);}}}else{if(k.isNumber(O)){return q.maxitems;}}}(),p=function(){if(q.orientation==="vertical"){return".at4-recommended-vertical";}else{return".at4-recommended-horizontal";}}(),L=".at4-recommended-"+this.name+(this.options.textonly===true||this.options.textonly==="true"?" .at4-recommended-text-only":""),B=p+"-logo",r=z.trendingLinksJson=this.superMethod("generateTrendingJson",this.pco,x),n={role:"region","aria-labelledby":"at-recommended-label"},D={},A={},H=j.themes[q.theme]?j.themes[q.theme]:"",E=z.position?z.position==="right"?".at4-"+z.basename+"-right":".at4-"+z.basename+"-left":"",v=z.position==="right"?"at-right":"at-left",C=q.animationType?"."+z.basename+"-"+q.animationType:"",G={},l={},F={},m=this.position==="left"?"right":"left",u=[];if(r&&r.length){if(J&&this.pco.indexOf("smlres")===0){K="Promoted Content";}if(K){n["h3.at-recommended-label"+(q.orientation==="vertical"?".at-vertical":"")]={html:K};}else{n["h3.at-recommended-label."+j.hiddenClass]={html:"AddThis Recommended"};}if(z.showCloseButton===true){n["button.at4-closebutton."+z.basename+"-close"]={html:"x",title:"Close"};}n[".at4-recommended-container"+p]=r;n[".at-logo"+B]={".at4-logo-container":{"a#at-privacy.at4-logo":{href:"//www.addthis.com/?utm_source=dyntr&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis"}}};if(z.closeControl){G[".at4-arrow.at-"+z.position]={title:"Close"};n["#at4-"+z.basename+"-close-control.at4-recommendedside-control."+j.hideClass]=G;}D[this.elementSelector+".at4-recommended."+v+C+H+L+y+t]=n;_ate.track.avp(this.elementSelector,this.pco,"ttnl="+x);}else{D.div="";}if(z.openControl){l[".at4-arrow.at-"+m]={title:"Open"};F["#at4-"+z.basename+"-open-control.at4-recommendedside-control."+j.hideClass+H]=l;}F=k.isEmptyObject(F)?false:F;if(F!==false){u.push(F);}u.push(D);A[".at4-"+z.basename+"-outer"+E]=u;return A;},imageResizing:function(p){var m=this,n=d(m.elementSelector+" .at-recommendedTitle"),l=d(m.elementSelector+" .at-tli");m.superMethod("imageResizer",n,l,p);}});}(g.utils,g.setup,g.common,g.qwery);g.drawer=function(k,b,j,d,l){return b.addthisWidget("drawer",{device:"desktop",plugin:true,showPlaceholderImages:false,requiresImage:true,status:"closed",pco:"cod-1.0",element:"#at-drawer",inheritsFrom:"recommended",openControl:"#at4-drawer-arrow",showCloseButton:true,prerender:function(){var x=this,z=x.options,y={},p={},n=this.position==="left"?".at4-drawer-left":".at4-drawer-right",v=_ate.bro.ie6||_ate.bro.ie7||_ate.bro.ie8,t=this.position==="left"?v?"right":"left":v?"left":"right",u=".at4-arrow.at-"+t,q=".at4-drawer-inline",w=v?".at4-drawer-old-browsers":".at4-drawer-modern-browsers",m="#at4-drawer-arrow"+u+"."+j.hideClass+w,r=j.themes[z.theme]?j.themes[z.theme]:"";p[m]="";if(k.isString(z.elements)&&z.elements.length){y["#at4-drawer-outer-container"+n+q+r]=p;}else{y["#at4-drawer-outer-container"+n+r]="";h.body.appendChild(f.json2html(p));}return f.json2html(y);},events:{"!#at4-drawer-arrow mouseenter":function(n,m){this.showdrawer();},"!#at4-drawer-arrow click":function(n,m){this.showdrawer();},".drawer-close click":function(n,m){this.hidedrawer();m.blur();},mouseleave:function(n,m){this.hidedrawer();},"addthis.keydown.esc":function(n,m){this.hidedrawer();},"addthis.layers.drawer.show":function(n,m){this.showdrawer();}},showdrawer:function(){var t=this,w=t.options,m=t.element,v=d("html")[0],n=w.animationType,r=t.position,u=r==="left"?"right":"left",q=j.active_layers.addthis,p=q?q.whatsnext:false;if(r==="right"&&p){k.trigger("addthis.layers.whatsnext.hide",c,this);}k.addClass("at4-drawer-shown",t.container);k.addClass(j.hideClass,t.openControl);if(w.animationType==="push"){l(function(){if(k.isElement(v)){k.addClass("at4-drawer-push-animation-"+r,v);k.addClass("at4-drawer-push-content-"+r+"-back",v);k.requestTimeout(function(){k.addClass("at4-drawer-push-content-"+u,v);},0);}k.removeClass(j.hideClass,m);k.removeClass("at4-drawer-push-animation-"+r,m);k.removeClass("at4-drawer-push-animation-"+r+"-back",m);k.requestTimeout(function(){k.addClass("at4-drawer-push-animation-"+r,m);},0);});}else{t.show(t.element,w.showAnimation);}j.drawerIsVisible=true;_ate.track.avpc(this.pco,"ttnl="+t.options.maxitems);},hidedrawer:function(){var r=this,w=r.options,m=r.element,v=r.openControl,u=d("html")[0],n=w.animationType,q=r.position,p=j.hideClass,t=q==="left"?"right":"left";if(w.animationType==="push"){l(function(){if(k.isElement(u)){k.addClass("at4-drawer-push-content-"+q+"-back",u);k.requestTimeout(function(){k.removeClass("at4-drawer-push-content-"+t,u);},0);}k.requestTimeout(function(){k.addClass("at4-drawer-push-animation-"+q+"-back",m);},0);r.show(v);});}else{r.hide(m,w.hideAnimation,function(){r.show(v);});}k.requestTimeout(function(){k.removeClass("at4-drawer-shown",r.container);},600);j.drawerIsVisible=false;}});}(g.utils,g.setup,g.common,g.qwery,g.rAF,g.recommended);g.follow=function(k,b,j,d){return b.addthisWidget("follow",{create:function(){var l=this,m=l.options||false;if(k.isPlainObject(m.services)){m.services=k.toArray(m.services);}if(!m||!m.services||!m.services.length){l.status="disabled";}l.superMethod("create");return this;},device:"desktop",pco:"smlfw-1.0",status:"open",locked:false,plugin:true,element:"#at4-follow",closeControl:"#at4-fcc",openControl:"#at4-foc",events:{"!.at4-follow-outer mouseenter":function(m,l){this.showControl(this.closeControl);},"!.at4-follow-outer mouseleave":function(m,l){this.hideControl(this.closeControl);},"!#at4-fcc click":function(m,l){k.trigger("addthis.layers.follow.hide",c,this);this.locked=true;k.preventDefaultEvent(m);},"!#at4-foc click":function(m,l){k.trigger("addthis.layers.follow.show",c,this);this.locked=true;k.preventDefaultEvent(m);},"addthis.layers.follow.show":function(p,n){var m=this,l=m.options;m.hide(m.openControl,l.hideAnimation);m.show();m.status="open";},"addthis.layers.follow.hide":function(p,n){var m=this,l=m.options;m.hide();m.show(m.openControl,l.showAnimation);m.status="closed";},"addthis.layers.scroll":function(p,n){var m=k.scrollPercentage(),l=this.status;if(!this.locked){if(m<0.25){k.trigger("addthis.layers.follow.show",c,this);}else{if(m>0.25){k.trigger("addthis.layers.follow.hide",c,this);}}}},".at-follow-btn keydown":function(n,m){if(k.KEYCODES[n.keyCode]==="enter"){var l=this.events[".at-follow-btn click"].call(this,n,m.childNodes[0]);if(l.svc==="twitter"){k.preventDefaultEvent(n);}}},".at-follow-btn click":function(q,p){var n=k.attr(p,"svc"),r=k.attr(p,"svcId"),m=this.superMethod("pco"),l={service:n,id:r,pco:m};this.superMethod("follow",n,l,m);if(n==="twitter"){k.preventDefaultEvent(q);}return l;}},generateJson:function(){var p={},m=[],t=[],n={},q={},y=this.options||{},u=this.themes[y.theme]?this.themes[y.theme]:"",w,A=k.filter(y.services,function(D){if(D.id&&D.service){return D;}}),C;if(!A||!A.length){return false;}n["div#at4-foc.at-follow-open-control"+u+"."+j.hideClass]={"div.at4-arrow.at-left":{html:"Show",title:"Show"}};q["div#at4-fcc.at4-arrow.at-right"]={html:"Hide",title:"Hide"};m.push({"div#at4-fcc.at4-follow-close-control":q});if(y.title){t.push({"span.at-follow-label":y.title});}for(C in A){if(A.hasOwnProperty(C)){var v={},x=A[C].service,B=A[C].id,l=A[C].usertype,r=_ate.share.gfu(x,B,l),z=k.isIEQuirksMode()?"q":"";if(x&&B&&r){v["span.at4-icon-fw.aticon-"+x+z]={html:this.followServices[x]||"",svc:x,svcId:B,title:"Follow on "+this.followServices[x]};if(x!="twitter"){v.href=r;v.target="_blank";}else{v.href="#";}t.push({"a.aticon.at-follow-btn":v});}}}m.push({"div.at4-follow-container.addthis_24x24_style":t});p["div#at4-follow.at4-follow.at4-follow-24"+u]={role:"region","aria-labelledby":"at4-follow-label","h2#at4-follow-label":{html:"Follow"},"div.at4-follow-inner":m};w=[p,n];return{"div.at4-follow-outer":w};}});}(g.utils,g.setup,g.common,g.qwery);g.recommendedbox=function(k,b,j,d){return b.addthisWidget("recommendedbox",{create:function(){var m=this.options||{},l=m.orientation;if(l==="vertical"){this.pco="smlrebv";this.options.size="large";}this.superMethod("create");},pco:"smlrebh",element:"#at4-recommendedbox",inheritsFrom:"recommended",multipleCalls:true,plugin:true,inline:true,inlineClass:"addthis-recommendedbox",events:{"addthis.recommendedbox.destroy":function(){this.parentElement.__containsRecommended__=false;}}});}(g.utils,g.setup,g.common,g.qwery,g.recommended);g.recommendedside=function(k,b,j,d){return b.addthisWidget("recommendedside",{device:"desktop",plugin:true,position:"right",showPlaceholderImages:false,requiresImage:true,pco:"smlres-1.0",element:"#at-recommendedside",inheritsFrom:"recommended",closeControl:"#at4-recommendedside-close-control",openControl:"#at4-recommendedside-open-control",events:{"!#at4-recommendedside-close-control mouseenter":function(m,l){this.showControl(this.closeControl);},".at-tli mouseover":function(m,l){this.showControl(this.closeControl);},".at4-logo-container mouseover":function(m,l){this.showControl(this.closeControl);},".at-recommended-label mouseover":function(m,l){this.showControl(this.closeControl);},mouseleave:function(m,l){this.hideControl(this.closeControl);},"!.at4-recommended-item mouseleave":function(m,l){this.hideControl(this.closeControl);},"!.at-recommended-label mouseleave":function(m,l){this.hideControl(this.closeControl);},"#at4-recommendedside-close-control click":function(m,l){_ate.ed.fire("addthis.layers.recommendedside.hide",c,this);},"!#at4-recommendedside-open-control click":function(m,l){_ate.ed.fire("addthis.layers.recommendedside.show",c,this);},"addthis.layers.recommendedside.show":function(l){this.superMethod("animate",this.openControl,this["options"].hideAnimation,function(){this.superMethod("animate",this.element,this["options"].showAnimation);});this.status="open";},"addthis.layers.recommendedside.hide":function(l){this.superMethod("animate",this.element,this["options"].hideAnimation,function(){this.superMethod("animate",this.openControl,this["options"].showAnimation);});this.status="closed";}},postEvents:function(){var l=this.options;if(k.isString(l.elements)&&l.elements.length&&k.isElement(this.container)){k.addClass("at4-recommendedside-inline",this.container);}_ate.track.avp(this.elementSelector,this.pco,"ttnl="+l.maxitems);}});}(g.utils,g.setup,g.common,g.qwery,g.recommended);g.share=function(k,b,j,d){return b.addthisWidget("share",{create:function(){var l=this,m=l.options,p=function(){if(e.addthis_config&&k.isPlainObject(e.addthis_config)){return e.addthis_config.services_exclude||"";}return"";}(),n={};l.superMethod("create");if(m.services){this.personalized=false;this.services=m.services.replace(/ /g,"").split(",");m.numPreferredServices=this.services.length;}else{this.services=this.preferredServices;}if(k.isString(p)){p=p.split(",");k.each(p,function(r,q){q=k.trim(q);n[q]=true;});this.options.services_exclude=n;}return this;},pco:"smlsh-1.0",device:"desktop",status:"open",element:"#at4-share",closeControl:"#at4-scc",openControl:"#at4-soc",position:"left",services:[],personalized:true,events:{mouseover:function(l){this.showControl(this.closeControl);},mouseout:function(l){this.hideControl(this.closeControl);},"#at4-scc click":function(l){_ate.ed.fire("addthis.layers.share.hide",c,this);k.preventDefaultEvent(l);},"!#at4-soc click":function(l){_ate.ed.fire("addthis.layers.share.show",c,this);k.preventDefaultEvent(l);},"addthis.layers.share.show":function(l){this.hide(this.openControl,this["options"].hideAnimation);this.show();this.status="open";},"addthis.layers.share.hide":function(l){this.hide();this.show(this.openControl,this["options"].showAnimation);this.status="closed";},".at4-share-btn click":j.commonEventHandlers.share.buttonClick},generateJson:function(){if(this.options&&this.options.numPreferredServices===0){return false;}var q,v={},n={},A={},t={},y={},x={role:"region","aria-labelledby":"at4-share-label","h2#at4-share-label":{html:"AddThis Sharing"}},l=this,r=l.options,u=l.themes[r.theme]?l.themes[r.theme]:"",z=l.getShareServices(),m=l.position==="right",w=".atss",p=m?w+"-right":w+"-left",B=!_ate.bro.ie6&&!_ate.bro.ie7&&!k.isIEQuirksMode()&&(r.counts===true||r.counts==="true");k.each(z,function(F,D){var G=D.svc,E=D.name,C;C=y["a.at4-share-btn.at-svc-"+G]={href:"#"};C["span.at300bs.at15nc.at15t_"+G]={title:E,html:E};if(B&&k.shareCounters.requests.services[G]){C[".at4-share-count-container."+j.hideClass]={"span.at4-share-count":""};}});t["div#at4-scc.at4-arrow."+(this.position==="left"?"at-left":"at-right")+"."+j.hideClass]={html:"Hide",title:"Hide"};y["div.at-share-close-control"+u]=t;q=x["div#at4-share"+w+p+".addthis_32x32_style"]=y;A["div.at4-arrow."+(this.position==="left"?"at-right":"at-left")]={html:"Show",title:"Show"};n=x["div#at4-soc"+w+".at-share-open-control-"+this.position.toLowerCase()+u+"."+j.hideClass]=A;v["div.at4-share-outer"+(m?"-right":"")]=x;return v;}});}(g.utils,g.setup,g.common,g.qwery);g.responsiveshare=function(l,b,k,j,d){return b.addthisWidget("responsiveshare",{create:d.create,pco:"resh-1.0",device:"both",element:".at-resp-share-element",services:[],personalized:true,inline:true,showOnLoad:true,mobileClass:"at-mobile",events:{".at-share-btn click":k.commonEventHandlers.share.buttonClick,"addthis.layers.resize":function(){if(this.basename!=="responsiveshare"){return;}if(l.getCurrentDevice(this)=="desktop"&&l.hasClass(this.mobileClass,this.element)){l.removeClass(this.mobileClass,this.element);}else{if(l.getCurrentDevice(this)=="mobile"&&!l.hasClass(this.mobileClass,this.element)){l.addClass(this.mobileClass,this.element);}}}},generateJson:function(){var p={},r=[],m=this,n=m.options,q=m.getShareServices();l.each(q,function(x,v){var y=v.svc,w=v.name,z={},u={},t={};u["span.at300bs.at15nc.at15t_"+y]={};t["span.label"]={html:w};z["a.at-share-btn.at-svc-"+y]=[u,t];r.push(z);});p["div.at-resp-share-element.addthis_32x32_style"+(l.getCurrentDevice(this)=="mobile"?"."+this.mobileClass:"")]=r;return p;}});}(g.utils,g.setup,g.common,g.qwery,g.share);g.sharedock=function(l,b,k,j,d){return b.addthisWidget("sharedock",{create:d.create,pco:"msd",device:"mobile",services:[],personalized:true,position:"bottom",element:"#at-share-dock",numServices:4,events:{".at-share-btn click":k.commonEventHandlers.share.buttonClick},generateJson:function(){if(this.options&&this.options.numPreferredServices===0){return false;}var t,y={},q={},D={},v={},B={},A={role:"region","aria-labelledby":"at-share-dock-label","h2#at-share-dock-label.at4-visually-hidden":{html:"AddThis Sharing"}},n=this,u=n.options,w=n.themes[u.theme]?n.themes[u.theme]:"",C=n.getShareServices(),x=n.position==="top",z=".atss"+(C.length<n.numServices?" .less-buttons":""),r=x?z+"-top":z+"-bottom",p=[],m=100/C.length;l.each(C,function(H,F){var I=F.svc,G=F.name,E;E=B["a.at-share-btn.at-svc-"+I]={href:"#",style:"width:"+m+"%;"};E["span.at300bs.at15nc.at15t_"+I]={title:G,html:G};});t=A["div#at-share-dock"+z+r+".addthis_32x32_style"]=B;y["div.at-share-dock-outer"+(x?"-top":"")]=A;return y;}});}(g.utils,g.setup,g.common,g.qwery,g.share);g.thankyou=function(k,b,j,d){return b.addthisWidget("thankyou",{create:function(){_ate.dbm=1;return this;},POSTACTION_SURFACES:{share:{type:"share",display:"follow"},"share-follow":{type:"share",display:"follow"},"share-trending":{type:"share",display:"trending"},follow:{type:"follow",display:"trending"},"follow-trending":{type:"follow",display:"trending"}},pco:"smlty-1.0",device:"both",element:"#at4-thankyou",maxitems:4,lastShown:0,showOnLoad:false,blacklist:{mailto:true,email:true,pinterest_share:true,pinterest:true,thefancy:true,more:true,link:true},events:{"addthis.menu.share":function(p,n){if(j.active_layers.addthis.share){var m=j.active_layers.addthis.follow,l=m?m.options.services:false;if(m&&l&&l.length){this.triggerPostActionEvent(p,"share-follow");}else{this.triggerPostActionEvent(p,"share-trending");}}},"addthis.menu.follow":function(m,l){if(j.active_layers.addthis.follow){this.triggerPostActionEvent(m,"follow-trending");}},"addthis.menu.shareimg":function(m,l){this.triggerPostActionEvent(m,"share",true);},"addthis.thankyou.hold":function(m,l){this.hold=true;},"addthis.postaction":function(t,r){var q=this,m=q.options;if(q.lastShown||k.isPlainObject(t.data)&&k.isString(t.data.type)&&(m.layers[q.POSTACTION_SURFACES[t.data.type].type]||{}).thankyou===false){return;}else{q.lastShown=new Date().valueOf();}if(t&&t.data&&t.data.service&&t.data.type){var l=t.data.service,p=t.data.type,n="";k.removeChildren(d("#at4-thankyou .at4-thankyou-layer")[0]);n=this.POSTACTION_SURFACES[p].display;p=this.POSTACTION_SURFACES[p].type;if(q.hold){q.hold=!this.hold;}else{q.display(p,n);}}},click:function(m,l){if(k.isVisible(this.element)){this.hide();}this.hold=false;},".at4-close click":function(m,l){if(window._atw&&window._atw.fe){_atw.fe.focus();}k.preventDefaultEvent(m);},".at4x click":function(m,l){if(window._atw&&window._atw.fe){_atw.fe.focus();}k.preventDefaultEvent(m);},"addthis.keydown.esc":function(m,l){this.hide();},".at-follow-btn click":function(q,p){var n=k.attr(p,"svc"),r=k.attr(p,"svcId"),m=this.superMethod("pco"),l={service:n,id:r,pco:m};this.superMethod("follow",n,l,m);k.trigger("addthis.thankyou.hold",addthis,{action:"share/follow"});if(n==="twitter"&&!k.mobile()){k.preventDefaultEvent(q);}}},customEvents:{},triggerPostActionEvent:function(r,p,n){if(r&&r.data&&r.data.service){var l=r.data.service,q={},t,m;if(l){if(!this.blacklist[l]||n){if(k.isVisible(d("#at3win")[0])){c.menu.close();}t=h.activeElement.nodeName.toLowerCase();if(h.activeElement&&t==="iframe"){if("activeElement"in h){e.focus();h.activeElement.blur();}}m=function(){k.trigger("addthis.postaction",addthis,{service:l,type:p});if(!k.mobile()){if("onfocusin"in h){h.onfocusin=null;}else{k.listenTo({elem:"window",ev:"focus",callback:m,type:"remove"});}}};if(!k.mobile()){if("onfocusin"in h){h.onfocusin=m;}else{k.listenTo({elem:"window",ev:"focus",callback:m,type:"add"});}}else{m();}}}else{this.hide();}}},display:function(m,l){if(!this.title||!this.description){this.title=d("#at4-thankyou .thankyou-title")[0];this.description=d("#at4-thankyou .thankyou-description")[0];}var p=this.title,n=this.description;k.addClass("at-thankyou-shown",this.element);if(m&&p&&n){k.bindEvents.call(this,this.customEvents,"remove");if(m==="share"){p.innerHTML="";n.innerHTML="";switch(l){case"follow":this.postactionFollow();break;case"trending":p.innerHTML=this.options.layers.share.postShareTitle;n.innerHTML=this.options.layers.share.postShareRecommendedMsg;this.postactionTrending();break;}}else{if(m==="follow"){switch(l){case"trending":p.innerHTML=this.options.layers.follow.postFollowTitle;n.innerHTML=this.options.layers.follow.postFollowRecommendedMsg;this.postactionTrending();break;}}}}},postactionFollow:function(){var l=this.generateFollowHtml();if(l){d("#at4-thankyou .at4-thankyou-layer")[0].appendChild(l);}this.superMethod("hideControl",d("#at4-palogo")[0]);this.superMethod("hideControl",d("#at4-paprivacy")[0]);this.superMethod("hideControl",d(".at4x")[0]);this.show();if(window._atw){_atw.fe=document.activeElement;}k.requestTimeout(function(){var m=d("#at4-thankyou .at4-close")[0];if(k.isElement(m)){m.focus();}},0);},postactionTrending:function(){this.superMethod("showControl",d("#at4-palogo")[0]);this.superMethod("showControl",d("#at4-paprivacy")[0]);this.superMethod("showControl",d(".at4x")[0]);var n=this,m=this.superMethod("generateTrendingJson",this.pco,4),l=n.element,p=k.extend(n.options,{elements:"#at4-thankyou .at4-thankyou-layer",size:"large",title:"",maxitems:4});if(m.length){k.addClass(j.hiddenClass,l);k.removeClass(j.hideClass,l);addthis.layers({recommendedbox:p,pi:true},function(){k.addClass(j.hideClass,l);k.removeClass(j.hiddenClass,l);n.show();k.requestTimeout(function(){d("#at4-thankyou .at4x")[0].focus();},0);});if(window._atw){_atw.fe=document.activeElement;}}else{return false;}},generateJson:function(){var l={},m=this.themes[this.options.theme]?this.themes[this.options.theme]:"";l["div#at4-thankyou.at4-thankyou.at4-thankyou-background."+j.hideClass+m+(k.mobile()?" .at4-thankyou-mobile":".at4-thankyou-desktop")]={role:"dialog","aria-labelledby":"at-thankyou-label","div.at4lb-inner":{"a.at4x":{href:"#",title:"Close"},"a#at4-palogo.at4-logo":{href:"//www.addthis.com/?utm_source=dynpo&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",html:"AddThis",title:"AddThis",target:"_blank"},"a#at4-paprivacy.at4-privacy":{href:"//www.addthis.com/privacy/privacy-policy",html:_ate._t("Privacy",24),title:_ate._t("Privacy",24),target:"_blank"},"div.at4-thankyou-inner":{"h1#at-thankyou-label.thankyou-title":"","h3.thankyou-description":"","div.at4-thankyou-layer":""}}};return l;},generateFollowHtml:function(){var t={},m=this.options.layers||{},p=m.follow||{},l=p.services||[],r=this.superMethod("generateFollowJson",l),n=h.location.host,q=this.themes[this.options.theme]?this.themes[this.options.theme]:"";if(!r){return false;}t["div.at4win"+q]={"div.at4win-wrapper":[{"div.at4win-header":[{h3:n},{"a.at4-close":{href:"#",html:"X",title:"Close"}}]},{"div.at4win-content":{"div.at4-thanks":[{h2:m.share.postShareTitle},{"div.at4-thanks-icons":[{label:m.share.postShareFollowMsg},{"div.at-follow.at-follow-32":{"div.at44-follow-container.addthis_32x32_style":r}}]}]}},{"div#at4win-footer":[{"a.at4-logo":{href:"//www.addthis.com/?utm_source=dynpo&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",html:"AddThis",title:"AddThis",target:"_blank"}},{"a.at4-privacy":{href:"//www.addthis.com/privacy/privacy-policy",html:_ate._t("Privacy",24),title:_ate._t("Privacy",24),target:"_blank"}}]}]};return f.json2html(t);},hide:function(){this.superMethod("hide",this.element,this.hideAnimation,function(){k.removeClass("at-thankyou-shown",this.element);});}});}(g.utils,g.setup,g.common,g.qwery);g.warning=function(k,b,j,d){return b.addthisWidget("warning",{pco:"smlwrn-1.0",device:"both",element:"#at4-warning",showOnLoad:false,closeControl:"#at4-wcc",parentMarginTop:false,iframeWidth:false,iframeHeight:false,iframeStyle:false,plugin:true,events:{"addthis.layers.warning.show":function(t){var r=d("#at4-warning-iframe")[0],p=t.data.alertId,m=this.element.clientHeight,n=this.parentElement.currentStyle||window.getComputedStyle(this.parentElement),q=n.marginTop,l=new Date().getTime();r.src="http://usadmm.dotomi.com/dmm/servlet/dmm?reg_req=true&pid=4680&dres=iframe&mtg=0&comId=2394&ms="+this.iframeStyle+"&btg=1&mp=1&rwidth="+this.iframeWidth+"&rheight="+this.iframeHeight+"&pp=3&cg=2222&dtm_param_1="+(this.options.test?"AmberTest":"RON")+"&dtm_param_2="+(this.options.test?"96fdd894a4d560d4e15379baa960c270":"bc2ae68d4ae10411036ba78d73899497")+"&dtm_param_3="+p+"&dtm_param_4=&dtm_param_5=&rurl="+_euc(_atc.rsrcs.warning)+"&tz=300&cb="+l;this.parentMarginTop=q;k.setCSSAttr(this.parentElement,{marginTop:m+"px"});this.superMethod("animate",this.element,this["options"].showAnimation);},"#at4-acc click":function(m,l){k.trigger("addthis.layers.warning.hide",c,this);},"addthis.layers.warning.hide":function(){this.hide(this.element,this.options.hideAnimation,function(){k.setCSSAttr(this.parentElement,{marginTop:this.parentMarginTop});});},"addthis.layers.warning.hideNow":function(){k.setCSSAttr(this.element,{display:"none"});}},postEvents:function(){if(_ate.swl){k.trigger("addthis.layers.warning.show",c,{alertId:_ate.swl});_ate.swl=false;}else{if(this.options.test){k.trigger("addthis.layers.warning.show",c,{alertId:999});}}this.superMethod("postEvents");},generateJson:function(){var n={},q={},t={},r="",p=k.desktop()?"desktop":k.tablet()?"tablet":"phone",m=this.iframeWidth=k.desktop()?"728":k.tablet()?"468":"216",l=this.iframeHeight=k.desktop()?"90":k.tablet()?"60":"36";this.iframeStyle=k.desktop()?"18":k.tablet()?"1":"34";q["a#at4-acc.at-warning-x"]={html:"Close"};t["iframe#at4-warning-iframe"]={scrolling:"no",height:l+"px",frameborder:"0",width:m+"px",src:r,vspace:"0",hspace:"0",marginheight:"0",marginwidth:"0"};n["div#at4-warning.addthis-warning-layer.at-layer-"+p]=[q,t];return n;}});}(g.utils,g.setup,g.common,g.qwery);g.welcome=function(k,b,j,d,l){return b.addthisWidget("welcome",{updateExisting:function(p){var m=this,q=m.container,n;m.options=k.extend(m.options,p);n=f.json2html(m.generateJson(true));if(k.isElement(q)){q.innerHTML="";q.appendChild(n);}k.bindEvents.call(m,m.events,"remove");m.element=d("#at4-welcome")[0];k.bindEvents.call(m,m.events);},pco:"wmb-1.0",device:"both",element:"#at4-welcome",plugin:true,configurableClassNames:{actions:{base:"addthis_bar_action_elem",button:{base:"addthis_bar_button",share:"addthis_bar_button_share",follow:"addthis_bar_button_follow",link:"addthis_bar_button_link",email:"addthis_bar_button_email"},link:{base:"addthis_bar_link",share:"addthis_bar_link_share",follow:"addthis_bar_link_follow",link:"addthis_bar_link_link"}},devices:{mobile:"addthis_bar_mobile",desktop:"addthis_bar_desktop"},positions:{bottom:"addthis_bar_bottom",top:{base:"addthis_bar_top",fixed:"addthis_bar_fixed",absolute:"addthis_bar_absolute"}},rules:{match:"addthis_bar_match",no_match:"addthis_bar_no_match"}},events:{"addthis.welcome.show":function(n){var m=this;m.showBar();},"addthis.welcome.shown":function(r){var n=this,q=n.options,m=q.hideAfter,p=this.superMethod("pco");if(k.isNumber(m)){m=m*1000;k.requestTimeout(function(){n.hideBar();},m);}if(n.showPixel===true){n.showPixel=false;_ate.track.apc(p);}},"addthis.welcome.hide":function(n){var m=this;m.hideBar();},".addthis_bar_x click":function(p,n){var m=this;m.hideBar();m.setClosedCookie();},".addthis_bar_action_elem click":function(p,n){var m=this;m.actionClick();},".addthis_bar_prevent_link_fire click":function(n,m){k.preventDefaultEvent(n);},"addthis.layers.scroll":function(){if(this.shownOnScroll===true){return;}var m=this,n=m.options,p=m.showOnScrollTo,q=k.scrollTop();if(q>=p){m.shownOnScroll=true;m.showBar();}}},actionClick:function(){var A=this,r=A.options,C=r.action,p=C.type,n=C.verb,w=C.listname,y=C.service||k.getTopService(),x=C.id,v=C.url||"",q=C.url_new_window,E=A.configurableClassNames,t=E.actions,F=t.button,z=t.link,u=this.superMethod("pco"),m={service:y,id:x,pco:u},D=d("input.addthis_bar_email_input")[0],B=k.isElement(D)?D.value:"";A.setCurrentConfig({touched:true});k.trigger("addthis.bar.click",A,A.getCurrentConfig());if(p==="email"){if(k.validation.validators.isEmail(B)){k.setCSSAttr(D,{"border-color":"#FFFFFF"});A.emailLogic({email:B,action:C});}else{k.setCSSAttr(D,{"border-color":"#FF0000"});}}else{if(n==="share"){A.superMethod("share",y,u);}else{if(n==="follow"&&x){if(y==="preferred"){y=k.getTopService();}A.superMethod("follow",y,m,u,true);}else{if(n==="link"){k.openWindow({url:v,new_window:q,focus:true});_ate.track.trl({data:{url:v,pco:u}});}}}}},emailProviders:{aweber:function(m,n){return"http://www.aweber.com/scripts/addlead.pl?email="+m+"&listname="+n;}},emailLogic:function(p){var q=this,t=encodeURIComponent(p.email),n=p.action,m=n.listname||"",w=(n.service||"").toLowerCase(),v=n.id,r=function(){if(q.emailProviders[w]){return q.emailProviders[w](t,m)||"";}else{return n.url||"";}}(),u=_ate.cookie.tag.toKV();r+=(r.indexOf("?")<0?"?":"&")+"EMAIL="+t+(u.length?"&AT_TAG="+u:"");q.updateExisting({message:"Your request is being processed...",animate:false,action:{type:"none"}});k.getUrl(r,function(){q.updateExisting({message:"Well done! You have successfully subscribed with "+decodeURIComponent(t),action:{type:"none"}});k.requestTimeout(function(){q.hideBar();},2500);});},hideBar:function(){var m=this,p=m.options,n=p.hideAnimation,q=m.element;l(function(){if(k.isElement(m.placeholder)){k.addClass(j.hiddenClass,m.placeholder);}if(k.isVisible(q)){m.hide(q,n,function(){k.trigger("addthis.welcome.hidden",{internal:true});});}});},showBar:function(){var m=this,p=m.options,n=p.delay,q=p.showAnimation,r=m.element;l(function(){if(k.isElement(m.placeholder)){k.removeClass(j.hiddenClass,m.placeholder);}if(!k.isVisible(r)){m.show(r,q,function(){k.trigger("addthis.welcome.shown",{internal:true});});}});},generateJson:function(){var F=this,N=F.configurableClassNames,D=N.devices,L=N.rules,w=N.positions,r=F.options,O=r.position,u=r.backgroundColor,G=r.rememberHide,x=r.showOnScrollTo,m=r.noGradient,y=r.fixed,K=r.alwaysShow,B=K===true?true:F.isMatch,E=F.mobile,n=K===true?"":x===false?G===true?F.checkCookieHidden()?"."+j.hideClass:"":"":"."+j.hideClass,H=F.elementSelector,P=".addthis_bar",J=F.elementSelector+".addthis_bar_container",A=E?"."+D.mobile:"."+D.desktop,I=B?"."+L.match:"."+L.no_match,t=F.isInlineLayer===true?"":O==="bottom"?"."+w.bottom:y?"."+w.top.base+"."+w.top.fixed:"."+w.top.base+"."+w.top.absolute,M=H+J+P+A+I+t+n,C=k.objectToStyle({background:u}),q={},p={},z=F.generateContentJson(r),v=m===true?"":k.gradients.cssString(u,m?0:0.05);F.showOnScrollTo=function(){if(k.isNumber(x)){return x;}else{if(k.isString(x)){return+x.replace("px","");}else{if(k.isElement(x)){return k.scrollTop(x);}}}}();q[M]={style:C+v,"span.welcome-inner-container":[{"a.addthis_bar_logo_container":{href:"http://www.addthis.com?utm_medium=link&utm_content=logo&utm_campaign=AT_main&utm_source=wmb",target:"_blank",".addthis_bar_logo":{title:"AddThis.com"}}},z,{"span.addthis_bar_x_container":{".addthis_bar_x":{title:"Hide"}}}]};if(B===false||G===true&&F.checkCookieHidden()){p[".at4-welcome-outer"]={};}else{p[".at4-welcome-outer"]=q;}return p;},postEvents:function(){var m=this,p=m.element,n=m.container,q=m.options,r=k.isPlainObject(q.action)?q.action:{},u={},t;u[".addthis_bar_placeholder"]="";t=f.json2html(u);if(q.coverPage===false&&!q.elements&&m.position==="top"){m.placeholder=t;}},generateContentJson:function(C){var t=this,B=C.message,x=C.textColor,A=C.buttonColor,w=C.noGradient,r=C.buttonTextColor,m=C.linkTextColor,q={"p.addthis_bar_p":""},p=C.action,y=p.service||k.getTopService(),z=p.type||"button",v=p.verb,n=k.serviceTemplate(p.text,y),u=p.url||"";if(t.actionJson[z]){return t.actionJson[z].call(t,{message:B,textColor:x,buttonColor:A,noGradient:w,buttonTextColor:r,linkTextColor:m,action_verb:v,action_text:n,action_type:z});}else{return q;}},actionJson:{button:function(v){var z=this,E={},G=z.configurableClassNames,r=G.actions,I=r.button,w=r.link,C=v.buttonColor,m=v.noGradient,t=m===true?"":k.gradients.cssString(C),n=v.buttonTextColor,p=v.action_verb,q=v.action_type,u=v.action_text,A="p",D=".addthis_bar_p",x=p==="follow"?".addthis_bar_follow":p==="link"?".addthis_bar_link":".addthis_bar_share",H=A+D+x,F=k.objectToStyle({color:v.linkTextColor}),B=k.objectToStyle({color:v.textColor}),y=function(){var L={},K=k.objectToStyle({background:C,border:"1px solid "+C,color:n}),J={};K=K+t;if(q==="link"){if(p!=="share"&&p!=="follow"){L["a.addthis_bar_prevent_link_fire."+w.base+"."+w[p]+"."+r.base]={style:F,href:"#",html:v.action_text};}}else{if(q==="email"){J["button."+I.base+"."+I[p]+"."+r.base]={style:K,type:"button",html:u};L["span.email-container"]=[{"input.addthis_bar_email_input":{type:"text",placeholder:"Email Address"}},J];}else{if(q==="none"){L["span.addthis_bar_type_none"]="";}else{L["button."+I.base+"."+I[p]+"."+r.base]={style:K,type:"button",html:u};}}}return L;}();E[H]=[{"span.addthis_bar_message":{style:B,html:v.message}},y];return E;},link:function(n){var m=this;return m.actionJson.button.call(m,n);},email:function(n){var m=this;return m.actionJson.button.call(m,n);},none:function(n){var m=this;return m.actionJson.button.call(m,n);}},setCurrentConfig:function(p){if(!k.isPlainObject(p)){return;}var m=this,n=k.isPlainObject(m.temp)?m.currentShowConfig:{};m.currentShowConfig=k.extend(m.currentShowConfig,p);},getCurrentConfig:function(){var m=this,n=k.isPlainObject(m.temp)?m.currentShowConfig:{};return{matchedConfig:m.options,beenShown:n.beenShown,userHide:n.hiddenByExplicitHide,showCount:n.showCount,pco:m.pco};},checkCookieHidden:function(){var m=this,n=m.getRuleHash();if(!n){return false;}var p=_ate.cookie.rck("__atbar"+n),q=_ate.util.fromKV(p);if(q.h==="1"){return true;}return false;},getRuleHash:function(){var m=this,p=m.options,t=p.rules,r="",q,n;k.each(t,function(u,v){q=v;r+=","+q;});r=r.substring(1);n=_ate.mun(r);return n;},setClosedCookie:function(p){var m=this,n=m.getRuleHash();return _ate.cookie.sck("__atbar"+n,"h=1",0,1);}});}(g.utils,g.setup,g.common,g.qwery,g.rAF);g.whatsnext=function(k,b,j,d){return b.addthisWidget("whatsnext",{render:function(){this.queueTrending(this.options.pubid,this.options.domain,function(){this.superMethod("render");});return this;},pco:"smlwn-1.0",device:"desktop",async:true,position:"bottom",status:"closed",locked:false,element:"#at4-whatsnext",contentElement:".at-whatsnext-content",closeControl:"#at4-wncc",openControl:"#at4-wnoc",showPlaceholderImages:false,events:{mouseenter:function(m,l){this.showControl(this.closeControl);},mouseleave:function(m,l){this.hideControl(this.closeControl);},"#at4-wncc click":function(m,l){k.trigger("addthis.layers.whatsnext.hide",c,this);this.locked=true;},"!#at4-wnoc click":function(m,l){k.trigger("addthis.layers.whatsnext.show",c,this);this.locked=true;},"addthis.layers.scroll":function(p,n){var m=k.scrollPercentage(),l=this.status,q=k.elementInViewport("#at4-recommended");if(!this.locked&&j.drawerIsVisible!==true){if(q||m<0.25){k.trigger("addthis.layers.whatsnext.hide",c,this);}else{if(!q&&m>0.25){k.trigger("addthis.layers.whatsnext.show",c,this);}}}},"addthis.layers.whatsnext.show":function(m,l){if(!k.hasClass(j.showClass,this.element)&&!k.isVisible(this.element)){this.hide(this.openControl,this["options"].hideAnimation);this.show();this.status="open";_ate.track.avpc(this.pco,"ttnl=1");}},"addthis.layers.whatsnext.hide":function(m,l){if(!k.hasClass(j.hideClass,this.element)&&k.isVisible(this.element)){this.hide();this.show(this.openControl,this["options"].showAnimation);this.status="closed";}}},prerender:function(){var l={"div.at4-whatsnext-outer-container":""};return f.json2html(l);},generateJson:function(){var y={},n={},t=[],l=[],z={},x="",v=this.options,r=this.themes[v.theme]?this.themes[v.theme]:"",q=v.title||v.recommendedTitle,w={},p=h.domain,m="",u;n=this.buildTrending();if(n.isSponsored){q="Promoted Content";}if(!n){return false;}if(n.image){w["div.at-whatsnext-content-img"]={a:{id:"at-whatsnext-img-lnk",surface:"whatsnext",href:n.url||"#",img:{id:"at-whatsnext-img",src:n.image,alt:n.title,title:n.title,"data-secure":n.image._secureimage?"true":""}}};t.push(w);}else{x=".at-whatsnext-nophoto";}t.push({"div.at-whatsnext-content-inner":[{h6:q},{h3:[{"a.at-whatsnextTitle":{id:"at-whatsnext-link",href:n.url||"#",html:n.title||"",title:n.title}}]},{small:{id:"at-whatsnext-dom",html:n.domain||""}}]});t.push({"a.at4-logo":{href:"//www.addthis.com/?utm_source=dynto&utm_medium=img&utm_content=AT_main_WT&utm_campaign=AT_main",target:"_blank",html:"AddThis",title:"AddThis"}});y["div#at4-whatsnext.at4-whatsnext "+x+r]={role:"region","aria-labelledby":"at4-whatsnext-label","h2#at4-whatsnext-label":{html:"AddThis What's Next"},"div.at-whatsnext-content":t,"div#at4-wncc.at-whatsnext-close-control.at4-arrow.at-down.at4-hide":{html:"Hide",title:"Hide"}};z["div#at4-wnoc.at-whatsnext-open-control.at4-arrow.at-up."+j.hideClass]={html:"Show",title:"Show"};u=[y,z];return{"div.at4-whatsnext-outer":u};},buildTrending:function(){if(!this.feeds[this.options.pubid+this.options.domain]){return false;}var m=this.options,p=this.feeds[this.feedName()]=this.feeds[m.pubid+m.domain],l=false,q=k.isPlainObject(m.promotedUrls)?k.toArray(m.promotedUrls):k.isString(m.promotedUrls)&&m.promotedUrls.length?[m.promotedUrls]:m.promotedUrls||[],r=q.length>0?true:false,n=false;if(r){k.each(q,function(t,u){if(k.isString(u)){q[t]=k.stripHashFromPath(u);}else{if(k.isPlainObject(u)&&u._atType===1){l={title:u.name,url:u.url,image:u.thumbnail.length?u.thumbnail[0].url:"",promoteToLayer:true,isSponsored:true,domain:u.branding};n=true;}}});k.each(p,function(v,u){var t=k.stripHashFromPath(u.url);if(k.indexOf.call(q,t)!==-1&&!n){u=k.cloneObject(u);u.promoteToLayer=true;l=u;n=true;}});}if(!n){p.repeat=p.repeat?p.repeat:1;l=this.feedItem({repeat:p.repeat,sort:function(u,t){return!!u.image?!!t.image?0:-1:1;}});}if(l&&l.url){this.normalizeTrendingItem(l,{itemCount:1,pos:0});return l;}else{return false;}},postEvents:function(){var m=this,n=d(".at-whatsnextTitle"),l=d("#at-whatsnext-img");m.superMethod("imageResizer",n,l);m.superMethod("postEvents");}});}(g.utils,g.setup,g.common,g.qwery);g.mobilesharemenu=function(l,b,j,m,d,k){return b.addthisComponent("mobilesharemenu",{inheritsFrom:"mobile",showDock:false});}(g.utils,g.setup,g.common,g.iscroll,g.qwery,g.mobile);g.api=function(b,n,j,m,d){var l=j.layerList;publicMethods={};return function k(p,w){if(!arguments.length){return;}if(n.isString(p)&&n.isPlainObject(w)&&!n.isEmptyObject(w)){d.thirdPartyWidget.apply(this,arguments);return;}p=p||{};var v={},u={},t={_init:function(z,x){if(!k.initialized){this._globalEventHandlers();}var y=t._setDefaultOptions(z);t._createLayers(z,y,function(A){if(n.isFunction(x)){x(y,A);}});},_globalEventHandlers:function(){n.bindEvents(j.globalEvents||{});if(!n.mobile()){n.bindEvents(j.desktopEvents||{});}return this;},_setDefaultOptions:function(A){var z=n.cloneObject(j.defaultOptions),y=A.responsive,x=function(C,B){if(!n.isPlainObject(C)){return;}if(n.isPlainObject(B)){n.extend(C,B);}else{if(B===false){C.responsive=B;}else{if(n.isString(B)||n.isNumber(B)){n.extend(C,{responsive:{maxWidth:B}});}}}};z.domain=h.location.host;if(!n.mobile()&&y!==i){x(z,y);}n.each(A,function(B,C){x(C,C.responsive);});n.each(z,function(C,D){var B=D;if(A[C]||A[C]===""){if(n.isPlainObject(B)){n.extend(B,A[C]);}else{z[C]=A[C];}}});return z;},_createLayers:function(C,z,H){var B=C.responsive,D=j.layers(),G,E,x=n.mobile()?"mobile":"desktop",F=function(){var I={};n.each(l,function(J,K){if(J!=="addthis"){I[J]=K;}});return I;}(),A=[];j.language=((e._atw||{}).conf||{}).ui_language||_ate.jlng()||"en";if(j.language!="en"){n.each(j.translationIds,function(J,I){n.each(I,function(L,K){if(j.defaultOptions[J]&&j.defaultOptions[J][L]){j.defaultOptions[J][L]=_ate._t(j.defaultOptions[J][L],K);}});});}G=function(J){var K=false,I;n.each(D,function(L){if(C[L]||J){j.enabledLayers[L]=true;K=true;I=D[L].split(",");n.each(I,function(N,M){if(C[M]!==false){if((!_ate.isProUser||_ate.isProUser&&M!=="mobile")&&l.addthis[M]&&l.addthis[M].plugin!==true||l.addthis[M]&&l.addthis[M].plugin===true&&C[M]!==i){v[M]=true;}}});}});n.each(l,function(L,M){if(L==="addthis"){n.each(M,function(O,N){if(C[O]){K=true;}});}else{if(C[L]){K=true;}}});return K;};G(false);if(!_ate.isProUser&&(n.isEmptyObject(C)&&C.mobile===i||C.share!==i&&C.share!==false||C.follow!==i&&C.follow!==false)&&C.responsive!==false&&x==="desktop"&&!_ate.bro.ie6&&!_ate.bro.ie7&&!n.isIEQuirksMode()){var y=C.mobile||true;v=n.extend(v,{mobile:true});C=n.extend(C,{mobile:y});}if(n.isPlainObject(F)){v=n.extend(n.cloneObject(F),v);}n.each(v,function(J){var K=J,O=l[K],N,M,L,I;if(F[K]){k[K]=k[K]||{};C[K]=C[K]||{};n.each(O,function(P,Q){L=Q;M=L.basename;I=L.eventnamespace;if(C[K][M]!==i&&C[K][M]!==false){if(!k[K][M]||L.multipleCalls===true){if(C[K]&&C[K][M]){if(C[K][M][x]!==false){A.push(M);if(n.isArray(C[K][M])){n.each(C[K][M],function(R){n.trigger("addthis.layers"+I,{options:R,extendedOptions:t._setDefaultOptions(R)});});}else{n.trigger("addthis.layers"+I,{options:C[K][M],extendedOptions:z});}}}else{if(C[K][M]!==false){A.push(M);n.trigger("addthis.layers"+I,{options:C[K][M],extendedOptions:z});}}k[K][M]=true;}}});}else{if(!k[J]||l.addthis&&l.addthis[J]&&l.addthis[J].multipleCalls===true){if(C[J]){if(C[J][x]!==false){if(n.isArray(C[J])){n.each(C[J],function(P,Q){A.push(J);n.trigger("addthis.layers."+J,{name:J,props:l.addthis[J],options:Q,extendedOptions:t._setDefaultOptions(Q)});});}else{A.push(J);n.trigger("addthis.layers."+J,{name:J,props:l.addthis[J],options:C[J],extendedOptions:z});}}}else{if(C[J]!==false){A.push(J);n.trigger("addthis.layers."+J,{name:J,props:l.addthis[J],options:C[J],extendedOptions:z});}}}k[J]=true;}});if(n.isFunction(H)){H(A);}},destroy:function(F){if(n.isUndefined(j.active_layers)){return;}var E,z=n.isString(F),I=(F||"").split("."),C=I.length>1?I[0]:"addthis",J=I.length>1?I[1]:F,A=j.active_layers,D,y,H,x,G,B;if(z&&(!A[C]||!A[C][J])){return"not an active layer";}D=z?[A[C][J]]:A[C];G=z?D.inlineClass?b("."+D.inlineClass):_ate.util.parent(D[0].element,".addthis-smartlayers")===h?[D[0].element]:[_ate.util.parent(D[0].element,".addthis-smartlayers")]:b(".addthis-smartlayers");n.each(D,function(L,K){if(n.isPlainObject(K)&&!n.isEmptyObject(K)){y=K.basename;H=K.element;x=n.extend(K.events||{},K.customEvents||{});n.trigger(C+"."+y+".destroy",c,{});n.bindEvents.call(K,x,"remove");k[y]=false;K.rendered=false;n.removeElement(K.openControl);n.removeElement(K.placeholder);}});n.each(G,function(K,L){H=L;n.removeElement(H);});if(z){j.active_layers[C]=j.active_layers[C]||{};if(j.active_layers[C][J]){delete j.active_layers[C][J];delete e.addthis.layers.active_layers[C][J];}if(n.isEmptyObject(j.active_layers)||!j.active_layers){j.active_layers={};e.addthis.layers.active_layers={};k.initialized=false;j.initialized=false;j.welcomeBarAndMobile.alreadyCompleted=false;}if(C==="addthis"&&J==="welcome"){j.welcomeBarAndMobile.alreadyCompleted=false;}}else{j.active_layers={};e.addthis.layers.active_layers={};k.initialized=false;j.initialized=false;j.welcomeBarAndMobile.alreadyCompleted=false;}return this;}};publicMethods=n.publicApi(t);if(p.pii===true&&j.receivedConfigFromServer){n.each(j.pageConfigs,function(x,y){n.each(y,function(z,B){var A=j.layerList.addthis;if(A[z]&&A[z].inlineClass){u[z]=B;j.pageConfigs.splice(x,1);}});});if(n.keys(u)>0){u=n.extend(u,{pi:true});addthis.layers(u);}return;}else{if(_ate.ipc&&!p.pi){if(p.cfs||n.isFunction(w)&&w.cfs===true){if(p._default&&p._default.widgets){var q={};n.each(p._default.widgets,function(y,A){_ate.track.apc(y);var z=j.pcoMap[y];if(z){if(q[z]){if(!n.isArray(q[z])){var x=q[z];q[z]=[];q[z].push(x);}q[z].push(A);}else{q[z]=A;}}});q.pi=true;addthis.layers(q,w);}else{_ate.ipc=false;var r=j.pageConfigs;n.each(r,function(y,x){addthis.layers(x);});j.pageConfigs=[];}j.receivedConfigFromServer=true;}else{j.pageConfigs.push(p);}return;}}if(n.isFunction(p)){p.call(publicMethods,publicMethods);return;}p=n.isPlainObject(p)&&!n.isEmptyObject(p)?p:{};t._init(p,function(B,x){var A=x.length,z=0,y=0;if(A===0){if(n.isFunction(w)){w.call(publicMethods,publicMethods);}n.trigger("addthis.layers.loaded");n.trigger("addthis.layers.rendered");}else{_ate.ed.addEventListener("addthis.layer.loaded",function(C){y+=1;if(y===A){n.trigger("addthis.layers.loaded");}});_ate.ed.addEventListener("addthis.layer.rendered",function(C){z+=1;if(z===A){if(n.isFunction(w)){w.call(publicMethods,publicMethods);}n.trigger("addthis.layers.rendered");}});k.initialized=true;k.onpage=true;}return publicMethods;});};}(g.qwery,g.utils,g.common,g.layerFactory,g.setup);g.load=function(d,k,b){var j=b;_adr.append(function(){h=document;a=h.body;if((!e.JSON||!e.JSON.stringify)&&!j.onpage){var l=new _ate.resource.Resource("json2",_atr+"static/r07/json2.js");l.load();}if(c){c.user.ready(function(){c.user.getPreferredServices(function(m){d.preferredServices=function(){var t=[],r;k.each(m,function(u,v){r=v;if(_ate.services.exists(r)){t.push(r);}});return t;}();for(var p in m){if(m[p]&&!_ate.services.isTop(m[p].name,32)&&!j.onpage){var n=new _ate.resource.Resource("widget32css",_atc.rsrcs.widget32css);n.load();break;}}if(!j.onpage){var q=new _ate.resource.Resource("layerscss",_atc.rsrcs.layerscss);q.load();k.isCSSReady(function(){addthis.layers=j;k.trigger("addthis.layers.ready",c,{pco:d.pco});});}else{addthis.layers=j;k.trigger("addthis.layers.ready",c,{pco:d.pco});}});c.bar={pco:"wmb-1.0",initialize:function(p,r){var n=c.layers.active_layers&&c.layers.active_layers.addthis&&c.layers.active_layers.addthis.welcome,m,q;if(n){if(!p||k.isString(p)){_ate.ed.fire("addthis.welcome.show",{},{});}else{addthis.layers(function(t){m=n.options;q=_ate.util.extend(m,p);if(p==="render"||r==="render"){n.updateExisting(q);}else{t.destroy("welcome");addthis.layers({welcome:q,pi:true});}});}}else{addthis.layers({welcome:p,pi:true});}},show:function(m){c.bar.initialize(m,"render");},render:function(m){c.bar.initialize(m,"render");},hide:function(){_ate.ed.fire("addthis.welcome.hide",{},{});}};_ate.ed.fire("addthis.bar.ready",c,{pco:addthis.bar.pco});});addthis.layers.ost=1;}});}(g.common,g.utils,g.api);}(window,addthis,_ate.util));